<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>allensdk.core package &mdash; Allen SDK 0.14.3 documentation</title>
    
    <link rel="stylesheet" href="_static/aibs_sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.14.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Allen SDK 0.14.3 documentation" href="index.html" />
    <link rel="up" title="allensdk package" href="allensdk.html" />
    <link rel="next" title="allensdk.ephys package" href="allensdk.ephys.html" />
    <link rel="prev" title="allensdk.config.model.formats package" href="allensdk.config.model.formats.html" /> 
  </head>
  <body role="document">
<link href="http://www.brain-map.org/assets/stylesheets/portal.css" media="screen" rel="stylesheet" type="text/css" />
<script src="http://www.brain-map.org/assets/javascripts/portal.js" type="text/javascript"></script>
<script src="http://www.brain-map.org/assets/javascripts/ga.js" type="text/javascript"></script>
<script type="text/javascript">
    var _pSupressBrowserFlashWarning = true;
    var _pTabId = "pHome";
    var _pMoreProjectsId = "pMoreProjects";
    var _pImagePath = "http://www.brain-map.org/assets/images/";
    var _pSiteWarnings = function() {
        this.show_warning() = {};
    }
</script>
<script type="text/javascript">
    function initialize() {
        /*** do your stuff, then initialize the portal plugin ***/
        _pPortalOnLoad();
    }
</script>
<style>
  #header_content > a {
  display: inline-block;
  width: 250px;
  height: 75px;
  background-image:url("/AllenSDK/_static/external_assets/images/Brain_Atlas_Logotype_SDK.png") !important;
  background-size: 235px 37px;
  background-position: 0px 20px;
  background-repeat: no-repeat;
  }
</style>

<script type="text/javascript" src="http://www.brain-map.org/external_assets/javascripts/portalHeader.js"></script>
<link rel="stylesheet" type="text/css" href="/AllenSDK/_static/external_assets/stylesheets/common_layout.css" />


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="allensdk-core-package">
<h1>allensdk.core package<a class="headerlink" href="#allensdk-core-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-allensdk.core.brain_observatory_cache">
<span id="allensdk-core-brain-observatory-cache-module"></span><h2>allensdk.core.brain_observatory_cache module<a class="headerlink" href="#module-allensdk.core.brain_observatory_cache" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache">
<em class="property">class </em><code class="descclassname">allensdk.core.brain_observatory_cache.</code><code class="descname">BrainObservatoryCache</code><span class="sig-paren">(</span><em>cache=True</em>, <em>manifest_file='brain_observatory_manifest.json'</em>, <em>base_uri=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="allensdk.api.html#allensdk.api.cache.Cache" title="allensdk.api.cache.Cache"><code class="xref py py-class docutils literal"><span class="pre">allensdk.api.cache.Cache</span></code></a></p>
<p>Cache class for storing and accessing data from the Brain Observatory.
By default, this class will cache any downloaded metadata or files in
well known locations defined in a manifest file.  This behavior can be
disabled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cache: boolean</strong></p>
<blockquote>
<div><p>Whether the class should save results of API queries to locations specified
in the manifest file.  Queries for files (as opposed to metadata) must have a
file location.  If caching is disabled, those locations must be specified
in the function call (e.g. get_ophys_experiment_data(file_name=&#8217;file.nwb&#8217;)).</p>
</div></blockquote>
<p><strong>manifest_file: string</strong></p>
<blockquote class="last">
<div><p>File name of the manifest to be read.  Default is &#8220;brain_observatory_manifest.json&#8221;.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%" />
<col width="69%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>api: BrainObservatoryApi instance</td>
<td>The object used for making API queries related to the Brain Observatory.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.CELL_SPECIMENS_KEY">
<code class="descname">CELL_SPECIMENS_KEY</code><em class="property"> = 'CELL_SPECIMENS'</em><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.CELL_SPECIMENS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.EXPERIMENTS_KEY">
<code class="descname">EXPERIMENTS_KEY</code><em class="property"> = 'EXPERIMENTS'</em><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.EXPERIMENTS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.EXPERIMENT_CONTAINERS_KEY">
<code class="descname">EXPERIMENT_CONTAINERS_KEY</code><em class="property"> = 'EXPERIMENT_CONTAINERS'</em><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.EXPERIMENT_CONTAINERS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.EXPERIMENT_DATA_KEY">
<code class="descname">EXPERIMENT_DATA_KEY</code><em class="property"> = 'EXPERIMENT_DATA'</em><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.EXPERIMENT_DATA_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.MANIFEST_VERSION">
<code class="descname">MANIFEST_VERSION</code><em class="property"> = None</em><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.MANIFEST_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.STIMULUS_MAPPINGS_KEY">
<code class="descname">STIMULUS_MAPPINGS_KEY</code><em class="property"> = 'STIMULUS_MAPPINGS'</em><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.STIMULUS_MAPPINGS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.build_manifest">
<code class="descname">build_manifest</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.build_manifest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.build_manifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a manifest for this Cache class and save it in a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File location to save the manifest.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_cre_lines">
<code class="descname">get_all_cre_lines</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_all_cre_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_cre_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all cre driver lines in the data set.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_imaging_depths">
<code class="descname">get_all_imaging_depths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_all_imaging_depths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_imaging_depths" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all imaging depths in the data set.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_reporter_lines">
<code class="descname">get_all_reporter_lines</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_all_reporter_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_reporter_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all reporter lines in the data set.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_session_types">
<code class="descname">get_all_session_types</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_all_session_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_session_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all stimulus sessions in the data set.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_stimuli">
<code class="descname">get_all_stimuli</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_all_stimuli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_stimuli" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all stimuli in the data set.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_targeted_structures">
<code class="descname">get_all_targeted_structures</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_all_targeted_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_all_targeted_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all targeted structures in the data set.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_cell_specimens">
<code class="descname">get_cell_specimens</code><span class="sig-paren">(</span><em>file_name=None</em>, <em>ids=None</em>, <em>experiment_container_ids=None</em>, <em>include_failed=False</em>, <em>simple=True</em>, <em>filters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_cell_specimens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_cell_specimens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return cell specimens that have certain properies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the cell specimens.  If file_name is None,
the file_name will be pulled out of the manifest.  If caching
is disabled, no file will be saved. Default is None.</p>
</div></blockquote>
<p><strong>ids: list</strong></p>
<blockquote>
<div><p>List of cell specimen ids.</p>
</div></blockquote>
<p><strong>experiment_container_ids: list</strong></p>
<blockquote>
<div><p>List of experiment container ids.</p>
</div></blockquote>
<p><strong>include_failed: bool</strong></p>
<blockquote>
<div><p>Whether to include cells from failed experiment containers</p>
</div></blockquote>
<p><strong>simple: boolean</strong></p>
<blockquote>
<div><p>Whether or not to simplify the dictionary properties returned by this method
to a more concise subset.</p>
</div></blockquote>
<p><strong>filters: list of dicts</strong></p>
<blockquote>
<div><p>List of filter dictionaries.  The Allen Brain Observatory web site can 
generate filters in this format to reproduce a filtered set of cells
found there.  To see what these look like, visit 
<a class="reference external" href="http://observatory.brain-map.org/visualcoding">http://observatory.brain-map.org/visualcoding</a>, perform a cell search
and apply some filters (e.g. find cells in a particular area), then 
click the &#8220;view these cells in the AllenSDK&#8221; link on the bottom-left
of the search results page.  This will take you to a page that contains
a code sample you can use to apply those same filters via this argument.
For more detail on the filter syntax, see BrainObservatoryApi.dataframe_query.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_experiment_containers">
<code class="descname">get_experiment_containers</code><span class="sig-paren">(</span><em>file_name=None</em>, <em>ids=None</em>, <em>targeted_structures=None</em>, <em>imaging_depths=None</em>, <em>cre_lines=None</em>, <em>transgenic_lines=None</em>, <em>include_failed=False</em>, <em>simple=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_experiment_containers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_experiment_containers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of experiment containers matching certain criteria.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the experiment containers.  If file_name is None,
the file_name will be pulled out of the manifest.  If caching
is disabled, no file will be saved. Default is None.</p>
</div></blockquote>
<p><strong>ids: list</strong></p>
<blockquote>
<div><p>List of experiment container ids.</p>
</div></blockquote>
<p><strong>targeted_structures: list</strong></p>
<blockquote>
<div><p>List of structure acronyms.  Must be in the list returned by
BrainObservatoryCache.get_all_targeted_structures().</p>
</div></blockquote>
<p><strong>imaging_depths: list</strong></p>
<blockquote>
<div><p>List of imaging depths.  Must be in the list returned by
BrainObservatoryCache.get_all_imaging_depths().</p>
</div></blockquote>
<p><strong>cre_lines: list</strong></p>
<blockquote>
<div><p>List of cre lines.  Must be in the list returned by
BrainObservatoryCache.get_all_cre_lines().</p>
</div></blockquote>
<p><strong>transgenic_lines: list</strong></p>
<blockquote>
<div><p>List of transgenic lines. Must be in the list returned by
BrainObservatoryCache.get_all_cre_lines() or.
BrainObservatoryCache.get_all_reporter_lines().</p>
</div></blockquote>
<p><strong>include_failed: boolean</strong></p>
<blockquote>
<div><p>Whether or not to include failed experiment containers.</p>
</div></blockquote>
<p><strong>simple: boolean</strong></p>
<blockquote>
<div><p>Whether or not to simplify the dictionary properties returned by this method
to a more concise subset.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_ophys_experiment_data">
<code class="descname">get_ophys_experiment_data</code><span class="sig-paren">(</span><em>ophys_experiment_id</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_ophys_experiment_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_ophys_experiment_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the NWB file for an ophys_experiment (if it hasn&#8217;t already been
downloaded) and return a data accessor object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the data set.  If file_name is None,
the file_name will be pulled out of the manifest.  If caching
is disabled, no file will be saved. Default is None.</p>
</div></blockquote>
<p><strong>ophys_experiment_id: integer</strong></p>
<blockquote>
<div><p>id of the ophys_experiment to retrieve</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">BrainObservatoryNwbDataSet</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_ophys_experiment_stimuli">
<code class="descname">get_ophys_experiment_stimuli</code><span class="sig-paren">(</span><em>experiment_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_ophys_experiment_stimuli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_ophys_experiment_stimuli" title="Permalink to this definition">¶</a></dt>
<dd><p>For a single experiment, return the list of stimuli present in that experiment.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_ophys_experiments">
<code class="descname">get_ophys_experiments</code><span class="sig-paren">(</span><em>file_name=None</em>, <em>ids=None</em>, <em>experiment_container_ids=None</em>, <em>targeted_structures=None</em>, <em>imaging_depths=None</em>, <em>cre_lines=None</em>, <em>transgenic_lines=None</em>, <em>stimuli=None</em>, <em>session_types=None</em>, <em>cell_specimen_ids=None</em>, <em>include_failed=False</em>, <em>require_eye_tracking=False</em>, <em>simple=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_cache.html#BrainObservatoryCache.get_ophys_experiments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_cache.BrainObservatoryCache.get_ophys_experiments" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of ophys experiments matching certain criteria.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the ophys experiments.  If file_name is None,
the file_name will be pulled out of the manifest.  If caching
is disabled, no file will be saved. Default is None.</p>
</div></blockquote>
<p><strong>ids: list</strong></p>
<blockquote>
<div><p>List of ophys experiment ids.</p>
</div></blockquote>
<p><strong>experiment_container_ids: list</strong></p>
<blockquote>
<div><p>List of experiment container ids.</p>
</div></blockquote>
<p><strong>targeted_structures: list</strong></p>
<blockquote>
<div><p>List of structure acronyms.  Must be in the list returned by
BrainObservatoryCache.get_all_targeted_structures().</p>
</div></blockquote>
<p><strong>imaging_depths: list</strong></p>
<blockquote>
<div><p>List of imaging depths.  Must be in the list returned by
BrainObservatoryCache.get_all_imaging_depths().</p>
</div></blockquote>
<p><strong>cre_lines: list</strong></p>
<blockquote>
<div><p>List of cre lines.  Must be in the list returned by
BrainObservatoryCache.get_all_cre_lines().</p>
</div></blockquote>
<p><strong>transgenic_lines: list</strong></p>
<blockquote>
<div><p>List of transgenic lines. Must be in the list returned by
BrainObservatoryCache.get_all_cre_lines() or.
BrainObservatoryCache.get_all_reporter_lines().</p>
</div></blockquote>
<p><strong>stimuli: list</strong></p>
<blockquote>
<div><p>List of stimulus names.  Must be in the list returned by
BrainObservatoryCache.get_all_stimuli().</p>
</div></blockquote>
<p><strong>session_types: list</strong></p>
<blockquote>
<div><p>List of stimulus session type names.  Must be in the list returned by
BrainObservatoryCache.get_all_session_types().</p>
</div></blockquote>
<p><strong>cell_specimen_ids: list</strong></p>
<blockquote>
<div><p>Only include experiments that contain cells with these ids.</p>
</div></blockquote>
<p><strong>include_failed: boolean</strong></p>
<blockquote>
<div><p>Whether or not to include experiments from failed experiment containers.</p>
</div></blockquote>
<p><strong>simple: boolean</strong></p>
<blockquote>
<div><p>Whether or not to simplify the dictionary properties returned by this method
to a more concise subset.</p>
</div></blockquote>
<p><strong>require_eye_tracking: boolean</strong></p>
<blockquote>
<div><p>If True, only return experiments that have eye tracking results. Default: False.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of dictionaries</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.brain_observatory_nwb_data_set">
<span id="allensdk-core-brain-observatory-nwb-data-set-module"></span><h2>allensdk.core.brain_observatory_nwb_data_set module<a class="headerlink" href="#module-allensdk.core.brain_observatory_nwb_data_set" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet">
<em class="property">class </em><code class="descclassname">allensdk.core.brain_observatory_nwb_data_set.</code><code class="descname">BrainObservatoryNwbDataSet</code><span class="sig-paren">(</span><em>nwb_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.FILE_METADATA_MAPPING">
<code class="descname">FILE_METADATA_MAPPING</code><em class="property"> = {'ophys_experiment_id': 'general/session_id', 'session_type': 'general/session_type', 'fov': 'general/fov', 'sex': 'general/subject/sex', 'imaging_depth': 'general/optophysiology/imaging_plane_1/imaging depth', 'device_string': 'general/devices/2-photon microscope', 'session_start_time': 'session_start_time', 'indicator': 'general/optophysiology/imaging_plane_1/indicator', 'genotype': 'general/subject/genotype', 'age': 'general/subject/age', 'excitation_lambda': 'general/optophysiology/imaging_plane_1/excitation_lambda', 'generated_by': 'general/generated_by', 'experiment_container_id': 'general/experiment_container_id', 'targeted_structure': 'general/optophysiology/imaging_plane_1/location', 'specimen_name': 'general/specimen_name'}</em><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.FILE_METADATA_MAPPING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.MOTION_CORRECTION_DATASETS">
<code class="descname">MOTION_CORRECTION_DATASETS</code><em class="property"> = ['MotionCorrection/2p_image_series/xy_translations', 'MotionCorrection/2p_image_series/xy_translation']</em><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.MOTION_CORRECTION_DATASETS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.PIPELINE_DATASET">
<code class="descname">PIPELINE_DATASET</code><em class="property"> = 'brain_observatory_pipeline'</em><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.PIPELINE_DATASET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.STIMULUS_TABLE_TYPES">
<code class="descname">STIMULUS_TABLE_TYPES</code><em class="property"> = {'abstract_feature_series': ['drifting_gratings', 'static_gratings'], 'repeated_indexed_time_series': ['natural_movie_one', 'natural_movie_two', 'natural_movie_three'], 'indexed_time_series': ['natural_scenes', 'locally_sparse_noise', 'locally_sparse_noise_4deg', 'locally_sparse_noise_8deg']}</em><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.STIMULUS_TABLE_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.SUPPORTED_PIPELINE_VERSION">
<code class="descname">SUPPORTED_PIPELINE_VERSION</code><em class="property"> = '2.0'</em><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.SUPPORTED_PIPELINE_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_cell_specimen_ids">
<code class="descname">get_cell_specimen_ids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_cell_specimen_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_cell_specimen_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of cell IDs for all cells in the file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">cell specimen IDs: list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_cell_specimen_indices">
<code class="descname">get_cell_specimen_indices</code><span class="sig-paren">(</span><em>cell_specimen_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_cell_specimen_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_cell_specimen_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of cell specimen ids, return their index based on their order in this file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cell_specimen_ids: list of cell specimen ids</strong></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_corrected_fluorescence_traces">
<code class="descname">get_corrected_fluorescence_traces</code><span class="sig-paren">(</span><em>cell_specimen_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_corrected_fluorescence_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_corrected_fluorescence_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of demixed and neuropil-corrected fluorescence traces
for all ROIs and the timestamps for each datapoint</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cell_specimen_ids: list or array (optional)</strong></p>
<blockquote>
<div><p>List of cell IDs to return traces for. If this is None (default)
then all are returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">timestamps: 2D numpy array</p>
<blockquote>
<div><p>Timestamp for each fluorescence sample</p>
</div></blockquote>
<p>traces: 2D numpy array</p>
<blockquote class="last">
<div><p>Corrected fluorescence traces for each cell</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_demixed_traces">
<code class="descname">get_demixed_traces</code><span class="sig-paren">(</span><em>cell_specimen_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_demixed_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_demixed_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of demixed fluorescence traces for all ROIs
and the timestamps for each datapoint</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cell_specimen_ids: list or array (optional)</strong></p>
<blockquote>
<div><p>List of cell IDs to return traces for. If this is None (default)
then all are returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">timestamps: 2D numpy array</p>
<blockquote>
<div><p>Timestamp for each fluorescence sample</p>
</div></blockquote>
<p>traces: 2D numpy array</p>
<blockquote class="last">
<div><p>Demixed fluorescence traces for each cell</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_dff_traces">
<code class="descname">get_dff_traces</code><span class="sig-paren">(</span><em>cell_specimen_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_dff_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_dff_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of dF/F traces for all ROIs and
the timestamps for each datapoint</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cell_specimen_ids: list or array (optional)</strong></p>
<blockquote>
<div><p>List of cell IDs to return data for. If this is None (default)
then all are returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">timestamps: 2D numpy array</p>
<blockquote>
<div><p>Timestamp for each fluorescence sample</p>
</div></blockquote>
<p>dF/F: 2D numpy array</p>
<blockquote class="last">
<div><p>dF/F values for each cell</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_fluorescence_timestamps">
<code class="descname">get_fluorescence_timestamps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_fluorescence_timestamps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_fluorescence_timestamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of timestamps in seconds for the fluorescence traces</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_fluorescence_traces">
<code class="descname">get_fluorescence_traces</code><span class="sig-paren">(</span><em>cell_specimen_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_fluorescence_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_fluorescence_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of fluorescence traces for all ROI and
the timestamps for each datapoint</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cell_specimen_ids: list or array (optional)</strong></p>
<blockquote>
<div><p>List of cell IDs to return traces for. If this is None (default)
then all are returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">timestamps: 2D numpy array</p>
<blockquote>
<div><p>Timestamp for each fluorescence sample</p>
</div></blockquote>
<p>traces: 2D numpy array</p>
<blockquote class="last">
<div><p>Fluorescence traces for each cell</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_locally_sparse_noise_stimulus_template">
<code class="descname">get_locally_sparse_noise_stimulus_template</code><span class="sig-paren">(</span><em>stimulus</em>, <em>mask_off_screen=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_locally_sparse_noise_stimulus_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_locally_sparse_noise_stimulus_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the stimulus template for the specified stimulus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stimulus: string</strong></p>
<blockquote>
<div><dl class="docutils">
<dt>Which locally sparse noise stimulus to retrieve.  Must be one of:</dt>
<dd><p class="first last">stimulus_info.LOCALLY_SPARSE_NOISE
stimulus_info.LOCALLY_SPARSE_NOISE_4DEG
stimulus_info.LOCALLY_SPARSE_NOISE_8DEG</p>
</dd>
</dl>
</div></blockquote>
<p><strong>mask_off_screen: boolean</strong></p>
<blockquote>
<div><p>Set off-screen regions of the stimulus to LocallySparseNoise.LSN_OFF_SCREEN.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">tuple: (template, off-screen mask)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_max_projection">
<code class="descname">get_max_projection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_max_projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_max_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum projection image for the 2P movie.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">max projection: np.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of meta data associated with each
experiment, including Cre line, specimen number,
visual area imaged, imaging depth</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">metadata: dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_motion_correction">
<code class="descname">get_motion_correction</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_motion_correction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_motion_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Panda DataFrame containing the x- and y- translation of each image used for image alignment</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_neuropil_r">
<code class="descname">get_neuropil_r</code><span class="sig-paren">(</span><em>cell_specimen_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_neuropil_r"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_neuropil_r" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a scalar value of r for neuropil correction of flourescence traces</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cell_specimen_ids: list or array (optional)</strong></p>
<blockquote>
<div><p>List of cell IDs to return traces for. If this is None (default)
then results for all are returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">r: 1D numpy array, len(r)=len(cell_specimen_ids)</p>
<blockquote class="last">
<div><p>Scalar for neuropil subtraction for each cell</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_neuropil_traces">
<code class="descname">get_neuropil_traces</code><span class="sig-paren">(</span><em>cell_specimen_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_neuropil_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_neuropil_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of neuropil fluorescence traces for all ROIs
and the timestamps for each datapoint</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cell_specimen_ids: list or array (optional)</strong></p>
<blockquote>
<div><p>List of cell IDs to return traces for. If this is None (default)
then all are returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">timestamps: 2D numpy array</p>
<blockquote>
<div><p>Timestamp for each fluorescence sample</p>
</div></blockquote>
<p>traces: 2D numpy array</p>
<blockquote class="last">
<div><p>Neuropil fluorescence traces for each cell</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_pupil_location">
<code class="descname">get_pupil_location</code><span class="sig-paren">(</span><em>as_spherical=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_pupil_location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_pupil_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the x, y pupil location.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>as_spherical</strong> : bool</p>
<blockquote>
<div><p>Whether to return the location as spherical (default) or
not. If true, the result is altitude and azimuth in
degrees, otherwise it is x, y in centimeters. (0,0) is
the center of the monitor.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(timestamps, location)</p>
<blockquote class="last">
<div><p>Timestamps is an (Nx1) array of timestamps in seconds.
Location is an (Nx2) array of spatial location.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_pupil_size">
<code class="descname">get_pupil_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_pupil_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_pupil_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pupil area in pixels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">(timestamps, areas)</p>
<blockquote class="last">
<div><p>Timestamps is an (Nx1) array of timestamps in seconds.
Areas is an (Nx1) array of pupil areas in pixels.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_roi_ids">
<code class="descname">get_roi_ids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_roi_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_roi_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of IDs for all ROIs in the file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ROI IDs: list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_roi_mask">
<code class="descname">get_roi_mask</code><span class="sig-paren">(</span><em>cell_specimen_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_roi_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_roi_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of all the ROI masks</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cell specimen IDs: list or array (optional)</strong></p>
<blockquote>
<div><p>List of cell IDs to return traces for. If this is None (default)
then all are returned</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">List of ROI_Mask objects</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_roi_mask_array">
<code class="descname">get_roi_mask_array</code><span class="sig-paren">(</span><em>cell_specimen_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_roi_mask_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_roi_mask_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numpy array containing all of the ROI masks for requested cells.
If cell_specimen_ids is omitted, return all masks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cell_specimen_ids: list</strong></p>
<blockquote>
<div><p>List of cell specimen ids.  Default None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">np.ndarray: NxWxH array, where N is number of cells</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_running_speed">
<code class="descname">get_running_speed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_running_speed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_running_speed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the mouse running speed in cm/s</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_session_type">
<code class="descname">get_session_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_session_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_session_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the type of experimental session, presently one of the
following: three_session_A, three_session_B, three_session_C</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">session type: string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_spontaneous_activity_stimulus_table">
<code class="descname">get_spontaneous_activity_stimulus_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_spontaneous_activity_stimulus_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_spontaneous_activity_stimulus_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the spontaneous activity stimulus table, if it exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">stimulus table: pd.DataFrame</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_stimulus">
<code class="descname">get_stimulus</code><span class="sig-paren">(</span><em>frame_ind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_stimulus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_stimulus" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_stimulus_epoch_table">
<code class="descname">get_stimulus_epoch_table</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_stimulus_epoch_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_stimulus_epoch_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a pandas dataframe that summarizes the stimulus epoch duration for each acquisition time index in
the experiment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">timestamps: 2D numpy array</p>
<blockquote>
<div><p>Timestamp for each fluorescence sample</p>
</div></blockquote>
<p>traces: 2D numpy array</p>
<blockquote class="last">
<div><p>Fluorescence traces for each cell</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_stimulus_table">
<code class="descname">get_stimulus_table</code><span class="sig-paren">(</span><em>stimulus_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_stimulus_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_stimulus_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a stimulus table given a stimulus name</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_stimulus_template">
<code class="descname">get_stimulus_template</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.get_stimulus_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.get_stimulus_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of the stimulus template for the specified stimulus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stimulus_name: string</strong></p>
<blockquote>
<div><p>Must be one of the strings returned by list_stimuli().</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">stimulus table: pd.DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.list_stimuli">
<code class="descname">list_stimuli</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.list_stimuli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.list_stimuli" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the stimuli presented in the experiment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">stimuli: list of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.number_of_cells">
<code class="descname">number_of_cells</code><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.number_of_cells" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of cells in the experiment</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.save_analysis_arrays">
<code class="descname">save_analysis_arrays</code><span class="sig-paren">(</span><em>*datasets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.save_analysis_arrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.save_analysis_arrays" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.save_analysis_dataframes">
<code class="descname">save_analysis_dataframes</code><span class="sig-paren">(</span><em>*tables</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#BrainObservatoryNwbDataSet.save_analysis_dataframes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.save_analysis_dataframes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.stimulus_search">
<code class="descname">stimulus_search</code><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.BrainObservatoryNwbDataSet.stimulus_search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="allensdk.core.brain_observatory_nwb_data_set.align_running_speed">
<code class="descclassname">allensdk.core.brain_observatory_nwb_data_set.</code><code class="descname">align_running_speed</code><span class="sig-paren">(</span><em>dxcm</em>, <em>dxtime</em>, <em>timestamps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#align_running_speed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.align_running_speed" title="Permalink to this definition">¶</a></dt>
<dd><p>If running speed timestamps differ from fluorescence
timestamps, adjust by inserting NaNs to running speed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">tuple: dxcm, dxtime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.core.brain_observatory_nwb_data_set.get_epoch_mask_list">
<code class="descclassname">allensdk.core.brain_observatory_nwb_data_set.</code><code class="descname">get_epoch_mask_list</code><span class="sig-paren">(</span><em>st</em>, <em>threshold</em>, <em>max_cuts=2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#get_epoch_mask_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.get_epoch_mask_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to cut a stim table into multiple epochs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>st</strong> &#8211; input stimtable</li>
<li><strong>threshold</strong> &#8211; threshold on the max duration of a subepoch</li>
<li><strong>max_cuts</strong> &#8211; maximum number of allowed epochs to cut into</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">epoch_mask_list, a list of indices that define the start and end of sub-epochs</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.core.brain_observatory_nwb_data_set.make_display_mask">
<code class="descclassname">allensdk.core.brain_observatory_nwb_data_set.</code><code class="descname">make_display_mask</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#make_display_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.make_display_mask" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.core.brain_observatory_nwb_data_set.mask_stimulus_template">
<code class="descclassname">allensdk.core.brain_observatory_nwb_data_set.</code><code class="descname">mask_stimulus_template</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#mask_stimulus_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.mask_stimulus_template" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.core.brain_observatory_nwb_data_set.warp_stimulus_coords">
<code class="descclassname">allensdk.core.brain_observatory_nwb_data_set.</code><code class="descname">warp_stimulus_coords</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/brain_observatory_nwb_data_set.html#warp_stimulus_coords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.brain_observatory_nwb_data_set.warp_stimulus_coords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-allensdk.core.cell_types_cache">
<span id="allensdk-core-cell-types-cache-module"></span><h2>allensdk.core.cell_types_cache module<a class="headerlink" href="#module-allensdk.core.cell_types_cache" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.cell_types_cache.CellTypesCache">
<em class="property">class </em><code class="descclassname">allensdk.core.cell_types_cache.</code><code class="descname">CellTypesCache</code><span class="sig-paren">(</span><em>cache=True</em>, <em>manifest_file='cell_types_manifest.json'</em>, <em>base_uri=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="allensdk.api.html#allensdk.api.cache.Cache" title="allensdk.api.cache.Cache"><code class="xref py py-class docutils literal"><span class="pre">allensdk.api.cache.Cache</span></code></a></p>
<p>Cache class for storing and accessing data from the Cell Types Database.
By default, this class will cache any downloaded metadata or files in
well known locations defined in a manifest file.  This behavior can be
disabled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cache: boolean</strong></p>
<blockquote>
<div><p>Whether the class should save results of API queries to locations specified
in the manifest file.  Queries for files (as opposed to metadata) must have a
file location.  If caching is disabled, those locations must be specified
in the function call (e.g. get_ephys_data(file_name=&#8217;file.nwb&#8217;)).</p>
</div></blockquote>
<p><strong>manifest_file: string</strong></p>
<blockquote class="last">
<div><p>File name of the manifest to be read.  Default is &#8220;cell_types_manifest.json&#8221;.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>api: CellTypesApi instance</td>
<td>The object used for making API queries related to the Cell Types Database</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.CELLS_KEY">
<code class="descname">CELLS_KEY</code><em class="property"> = 'CELLS'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.CELLS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.EPHYS_DATA_KEY">
<code class="descname">EPHYS_DATA_KEY</code><em class="property"> = 'EPHYS_DATA'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.EPHYS_DATA_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.EPHYS_FEATURES_KEY">
<code class="descname">EPHYS_FEATURES_KEY</code><em class="property"> = 'EPHYS_FEATURES'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.EPHYS_FEATURES_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.EPHYS_SWEEPS_KEY">
<code class="descname">EPHYS_SWEEPS_KEY</code><em class="property"> = 'EPHYS_SWEEPS'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.EPHYS_SWEEPS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.MANIFEST_VERSION">
<code class="descname">MANIFEST_VERSION</code><em class="property"> = '1.0'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.MANIFEST_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.MARKER_KEY">
<code class="descname">MARKER_KEY</code><em class="property"> = 'MARKER'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.MARKER_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.MORPHOLOGY_FEATURES_KEY">
<code class="descname">MORPHOLOGY_FEATURES_KEY</code><em class="property"> = 'MORPHOLOGY_FEATURES'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.MORPHOLOGY_FEATURES_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.RECONSTRUCTION_KEY">
<code class="descname">RECONSTRUCTION_KEY</code><em class="property"> = 'RECONSTRUCTION'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.RECONSTRUCTION_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.build_manifest">
<code class="descname">build_manifest</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache.build_manifest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.build_manifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a manifest for this Cache class and save it in a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File location to save the manifest.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.get_all_features">
<code class="descname">get_all_features</code><span class="sig-paren">(</span><em>dataframe=False</em>, <em>require_reconstruction=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache.get_all_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.get_all_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Download morphology and electrophysiology features for all cells and merge them
into a single table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataframe: boolean</strong></p>
<blockquote>
<div><p>Return the output as a Pandas DataFrame.  If False, return
a list of dictionaries.</p>
</div></blockquote>
<p><strong>require_reconstruction: boolean</strong></p>
<blockquote class="last">
<div><p>Only return ephys and morphology features for cells that have
reconstructions. Default True.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.get_cells">
<code class="descname">get_cells</code><span class="sig-paren">(</span><em>file_name=None</em>, <em>require_morphology=False</em>, <em>require_reconstruction=False</em>, <em>reporter_status=None</em>, <em>species=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache.get_cells"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.get_cells" title="Permalink to this definition">¶</a></dt>
<dd><p>Download metadata for all cells in the database and optionally return a
subset filtered by whether or not they have a morphology or reconstruction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the cell metadata as JSON.  If file_name is None,
the file_name will be pulled out of the manifest.  If caching
is disabled, no file will be saved. Default is None.</p>
</div></blockquote>
<p><strong>require_morphology: boolean</strong></p>
<blockquote>
<div><p>Filter out cells that have no morphological images.</p>
</div></blockquote>
<p><strong>require_reconstruction: boolean</strong></p>
<blockquote>
<div><p>Filter out cells that have no morphological reconstructions.</p>
</div></blockquote>
<p><strong>reporter_status: list</strong></p>
<blockquote>
<div><p>Filter for cells that have one or more cell reporter statuses.</p>
</div></blockquote>
<p><strong>species: list</strong></p>
<blockquote class="last">
<div><p>Filter for cells that belong to one or more species.  If None, return all.
Must be one of [ CellTypesApi.MOUSE, CellTypesApi.HUMAN ].</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.get_ephys_data">
<code class="descname">get_ephys_data</code><span class="sig-paren">(</span><em>specimen_id</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache.get_ephys_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.get_ephys_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download electrophysiology traces for a single cell in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>specimen_id: int</strong></p>
<blockquote>
<div><p>The ID of a cell specimen to download.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the ephys features metadata as CSV.
If file_name is None, the file_name will be pulled out of the
manifest.  If caching is disabled, no file will be saved.
Default is None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">NwbDataSet</p>
<blockquote class="last">
<div><p>A class instance with helper methods for retrieving stimulus
and response traces out of an NWB file.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.get_ephys_features">
<code class="descname">get_ephys_features</code><span class="sig-paren">(</span><em>dataframe=False</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache.get_ephys_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.get_ephys_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Download electrophysiology features for all cells in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the ephys features metadata as CSV.
If file_name is None, the file_name will be pulled out of the
manifest.  If caching is disabled, no file will be saved.
Default is None.</p>
</div></blockquote>
<p><strong>dataframe: boolean</strong></p>
<blockquote class="last">
<div><p>Return the output as a Pandas DataFrame.  If False, return
a list of dictionaries.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.get_ephys_sweeps">
<code class="descname">get_ephys_sweeps</code><span class="sig-paren">(</span><em>specimen_id</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache.get_ephys_sweeps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.get_ephys_sweeps" title="Permalink to this definition">¶</a></dt>
<dd><p>Download sweep metadata for a single cell specimen.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>specimen_id: int</strong></p>
<blockquote class="last">
<div><p>ID of a cell.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.get_morphology_features">
<code class="descname">get_morphology_features</code><span class="sig-paren">(</span><em>dataframe=False</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache.get_morphology_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.get_morphology_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Download morphology features for all cells with reconstructions in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the ephys features metadata as CSV.
If file_name is None, the file_name will be pulled out of the
manifest.  If caching is disabled, no file will be saved.
Default is None.</p>
</div></blockquote>
<p><strong>dataframe: boolean</strong></p>
<blockquote class="last">
<div><p>Return the output as a Pandas DataFrame.  If False, return
a list of dictionaries.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.get_reconstruction">
<code class="descname">get_reconstruction</code><span class="sig-paren">(</span><em>specimen_id</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache.get_reconstruction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.get_reconstruction" title="Permalink to this definition">¶</a></dt>
<dd><p>Download and open a reconstruction for a single cell in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>specimen_id: int</strong></p>
<blockquote>
<div><p>The ID of a cell specimen to download.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the reconstruction SWC.
If file_name is None, the file_name will be pulled out of the
manifest.  If caching is disabled, no file will be saved.
Default is None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Morphology</p>
<blockquote class="last">
<div><p>A class instance with methods for accessing morphology compartments.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.cell_types_cache.CellTypesCache.get_reconstruction_markers">
<code class="descname">get_reconstruction_markers</code><span class="sig-paren">(</span><em>specimen_id</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#CellTypesCache.get_reconstruction_markers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.CellTypesCache.get_reconstruction_markers" title="Permalink to this definition">¶</a></dt>
<dd><p>Download and open a reconstruction marker file for a single cell in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>specimen_id: int</strong></p>
<blockquote>
<div><p>The ID of a cell specimen to download.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the reconstruction marker.
If file_name is None, the file_name will be pulled out of the
manifest.  If caching is disabled, no file will be saved.
Default is None.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Morphology</p>
<blockquote class="last">
<div><p>A class instance with methods for accessing morphology compartments.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="allensdk.core.cell_types_cache.ReporterStatus">
<em class="property">class </em><code class="descclassname">allensdk.core.cell_types_cache.</code><code class="descname">ReporterStatus</code><a class="reference internal" href="_modules/allensdk/core/cell_types_cache.html#ReporterStatus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.cell_types_cache.ReporterStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Valid strings for filtering by cell reporter status.</p>
<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.ReporterStatus.INDETERMINATE">
<code class="descname">INDETERMINATE</code><em class="property"> = 'cre reporter indeterminate'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.ReporterStatus.INDETERMINATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.ReporterStatus.NA">
<code class="descname">NA</code><em class="property"> = 'not applicable'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.ReporterStatus.NA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.ReporterStatus.NEGATIVE">
<code class="descname">NEGATIVE</code><em class="property"> = 'cre reporter negative'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.ReporterStatus.NEGATIVE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.cell_types_cache.ReporterStatus.POSITIVE">
<code class="descname">POSITIVE</code><em class="property"> = 'cre reporter positive'</em><a class="headerlink" href="#allensdk.core.cell_types_cache.ReporterStatus.POSITIVE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.dat_utilities">
<span id="allensdk-core-dat-utilities-module"></span><h2>allensdk.core.dat_utilities module<a class="headerlink" href="#module-allensdk.core.dat_utilities" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.dat_utilities.DatUtilities">
<em class="property">class </em><code class="descclassname">allensdk.core.dat_utilities.</code><code class="descname">DatUtilities</code><a class="reference internal" href="_modules/allensdk/core/dat_utilities.html#DatUtilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.dat_utilities.DatUtilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="allensdk.core.dat_utilities.DatUtilities.save_voltage">
<em class="property">classmethod </em><code class="descname">save_voltage</code><span class="sig-paren">(</span><em>output_path</em>, <em>v</em>, <em>t</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/dat_utilities.html#DatUtilities.save_voltage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.dat_utilities.DatUtilities.save_voltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a single voltage output result into a simple text format.</p>
<p>The output file is one t v pair per line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>output_path</strong> : string</p>
<blockquote>
<div><p>file name for output</p>
</div></blockquote>
<p><strong>v</strong> : numpy array</p>
<blockquote>
<div><p>voltage</p>
</div></blockquote>
<p><strong>t</strong> : numpy array</p>
<blockquote class="last">
<div><p>time</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.json_utilities">
<span id="allensdk-core-json-utilities-module"></span><h2>allensdk.core.json_utilities module<a class="headerlink" href="#module-allensdk.core.json_utilities" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.json_utilities.JsonComments">
<em class="property">class </em><code class="descclassname">allensdk.core.json_utilities.</code><code class="descname">JsonComments</code><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#JsonComments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.JsonComments" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="allensdk.core.json_utilities.JsonComments.read_file">
<em class="property">classmethod </em><code class="descname">read_file</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#JsonComments.read_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.JsonComments.read_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="allensdk.core.json_utilities.JsonComments.read_string">
<em class="property">classmethod </em><code class="descname">read_string</code><span class="sig-paren">(</span><em>json_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#JsonComments.read_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.JsonComments.read_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="allensdk.core.json_utilities.JsonComments.remove_comments">
<em class="property">classmethod </em><code class="descname">remove_comments</code><span class="sig-paren">(</span><em>json_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#JsonComments.remove_comments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.JsonComments.remove_comments" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip single and multiline javascript-style comments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>json</strong> : string</p>
<blockquote>
<div><p>Json string with javascript-style comments.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">string</p>
<blockquote>
<div><p>Copy of the input with comments removed.</p>
</div></blockquote>
<p class="last">Note: A JSON decoder MAY accept and ignore comments.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="allensdk.core.json_utilities.JsonComments.remove_multiline_comments">
<em class="property">classmethod </em><code class="descname">remove_multiline_comments</code><span class="sig-paren">(</span><em>json_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#JsonComments.remove_multiline_comments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.JsonComments.remove_multiline_comments" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebuild input without substrings matching /<em>...</em>/.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>json_string</strong> : string</p>
<blockquote>
<div><p>may or may not contain multiline comments.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">string</p>
<blockquote class="last">
<div><p>Copy of the input without the comments.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="allensdk.core.json_utilities.json_handler">
<code class="descclassname">allensdk.core.json_utilities.</code><code class="descname">json_handler</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#json_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.json_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Used by write_json convert a few non-standard types to things that the json package can handle.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.core.json_utilities.read">
<code class="descclassname">allensdk.core.json_utilities.</code><code class="descname">read</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut reading JSON from a file.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.core.json_utilities.read_url">
<code class="descclassname">allensdk.core.json_utilities.</code><code class="descname">read_url</code><span class="sig-paren">(</span><em>url</em>, <em>method='POST'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#read_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.read_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.core.json_utilities.read_url_get">
<code class="descclassname">allensdk.core.json_utilities.</code><code class="descname">read_url_get</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#read_url_get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.read_url_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a JSON contained in a file into an equivalent
nested python dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>url</strong> : string</p>
<blockquote>
<div><p>where to get the json.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict</p>
<blockquote>
<div><p>Python version of the input</p>
</div></blockquote>
<p>Note: if the input is a bare array or literal, for example,</p>
<p class="last">the output will be of the corresponding type.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.core.json_utilities.read_url_post">
<code class="descclassname">allensdk.core.json_utilities.</code><code class="descname">read_url_post</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#read_url_post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.read_url_post" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a JSON contained in a file into an equivalent
nested python dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>url</strong> : string</p>
<blockquote>
<div><p>where to get the json.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict</p>
<blockquote>
<div><p>Python version of the input</p>
</div></blockquote>
<p>Note: if the input is a bare array or literal, for example,</p>
<p class="last">the output will be of the corresponding type.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.core.json_utilities.write">
<code class="descclassname">allensdk.core.json_utilities.</code><code class="descname">write</code><span class="sig-paren">(</span><em>file_name</em>, <em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for writing JSON to a file.  This also takes care of serializing numpy and data types.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.core.json_utilities.write_string">
<code class="descclassname">allensdk.core.json_utilities.</code><code class="descname">write_string</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/json_utilities.html#write_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.json_utilities.write_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut for writing JSON to a string.  This also takes care of serializing numpy and data types.</p>
</dd></dl>

</div>
<div class="section" id="module-allensdk.core.mouse_connectivity_cache">
<span id="allensdk-core-mouse-connectivity-cache-module"></span><h2>allensdk.core.mouse_connectivity_cache module<a class="headerlink" href="#module-allensdk.core.mouse_connectivity_cache" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache">
<em class="property">class </em><code class="descclassname">allensdk.core.mouse_connectivity_cache.</code><code class="descname">MouseConnectivityCache</code><span class="sig-paren">(</span><em>resolution=None</em>, <em>cache=True</em>, <em>manifest_file='mouse_connectivity_manifest.json'</em>, <em>ccf_version=None</em>, <em>base_uri=None</em>, <em>version=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache" title="allensdk.core.reference_space_cache.ReferenceSpaceCache"><code class="xref py py-class docutils literal"><span class="pre">allensdk.core.reference_space_cache.ReferenceSpaceCache</span></code></a></p>
<p>Cache class for storing and accessing data related to the adult mouse
Connectivity Atlas.  By default, this class will cache any downloaded
metadata or files in well known locations defined in a manifest file.
This behavior can be disabled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>resolution: int</strong></p>
<blockquote>
<div><p>Resolution of grid data to be downloaded when accessing projection volume,
the annotation volume, and the annotation volume.  Must be one of (10, 25,
50, 100).  Default is 25.</p>
</div></blockquote>
<p><strong>ccf_version: string</strong></p>
<blockquote>
<div><p>Desired version of the Common Coordinate Framework.  This affects the annotation 
volume (get_annotation_volume) and structure masks (get_structure_mask). 
Must be one of (MouseConnectivityApi.CCF_2015, MouseConnectivityApi.CCF_2016). 
Default: MouseConnectivityApi.CCF_2016</p>
</div></blockquote>
<p><strong>cache: boolean</strong></p>
<blockquote>
<div><p>Whether the class should save results of API queries to locations specified
in the manifest file.  Queries for files (as opposed to metadata) must have a
file location.  If caching is disabled, those locations must be specified
in the function call (e.g. get_projection_density(file_name=&#8217;file.nrrd&#8217;)).</p>
</div></blockquote>
<p><strong>manifest_file: string</strong></p>
<blockquote class="last">
<div><p>File name of the manifest to be read.  Default is &#8220;mouse_connectivity_manifest.json&#8221;.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>resolution: int</td>
<td>Resolution of grid data to be downloaded when accessing projection volume, the annotation volume, and the annotation volume.  Must be one of (10, 25, 50, 100).  Default is 25.</td>
</tr>
<tr class="row-even"><td>api: MouseConnectivityApi instance</td>
<td>Used internally to make API queries.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.DATA_MASK_KEY">
<code class="descname">DATA_MASK_KEY</code><em class="property"> = 'DATA_MASK'</em><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.DATA_MASK_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.DEFAULT_STRUCTURE_SET_IDS">
<code class="descname">DEFAULT_STRUCTURE_SET_IDS</code><em class="property"> = (167587189,)</em><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.DEFAULT_STRUCTURE_SET_IDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.EXPERIMENTS_KEY">
<code class="descname">EXPERIMENTS_KEY</code><em class="property"> = 'EXPERIMENTS'</em><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.EXPERIMENTS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.INJECTION_DENSITY_KEY">
<code class="descname">INJECTION_DENSITY_KEY</code><em class="property"> = 'INJECTION_DENSITY'</em><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.INJECTION_DENSITY_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.INJECTION_FRACTION_KEY">
<code class="descname">INJECTION_FRACTION_KEY</code><em class="property"> = 'INJECTION_FRACTION'</em><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.INJECTION_FRACTION_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.MANIFEST_VERSION">
<code class="descname">MANIFEST_VERSION</code><em class="property"> = 1.1</em><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.MANIFEST_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.PROJECTION_DENSITY_KEY">
<code class="descname">PROJECTION_DENSITY_KEY</code><em class="property"> = 'PROJECTION_DENSITY'</em><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.PROJECTION_DENSITY_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.STRUCTURE_UNIONIZES_KEY">
<code class="descname">STRUCTURE_UNIONIZES_KEY</code><em class="property"> = 'STRUCTURE_UNIONIZES'</em><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.STRUCTURE_UNIONIZES_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.SUMMARY_STRUCTURE_SET_ID">
<code class="descname">SUMMARY_STRUCTURE_SET_ID</code><em class="property"> = 167587189</em><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.SUMMARY_STRUCTURE_SET_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.add_manifest_paths">
<code class="descname">add_manifest_paths</code><span class="sig-paren">(</span><em>manifest_builder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.add_manifest_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.add_manifest_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a manifest for this Cache class and save it in a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File location to save the manifest.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.default_structure_ids">
<code class="descname">default_structure_ids</code><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.default_structure_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.filter_experiments">
<code class="descname">filter_experiments</code><span class="sig-paren">(</span><em>experiments</em>, <em>cre=None</em>, <em>injection_structure_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.filter_experiments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.filter_experiments" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a list of experiments and filter them by cre status and injection structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>cre: boolean or list</strong></p>
<blockquote>
<div><p>If True, return only cre-positive experiments.  If False, return only
cre-negative experiments.  If None, return all experients. If list, return
all experiments with cre line names in the supplied list. Default None.</p>
</div></blockquote>
<p><strong>injection_structure_ids: list</strong></p>
<blockquote class="last">
<div><p>Only return experiments that were injected in the structures provided here.
If None, return all experiments.  Default None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.filter_structure_unionizes">
<code class="descname">filter_structure_unionizes</code><span class="sig-paren">(</span><em>unionizes</em>, <em>is_injection=None</em>, <em>structure_ids=None</em>, <em>include_descendants=False</em>, <em>hemisphere_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.filter_structure_unionizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.filter_structure_unionizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a list of unionzes and return a subset of records filtered by injection status, structure, and
hemisphere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>is_injection: boolean</strong></p>
<blockquote>
<div><p>If True, only return unionize records that disregard non-injection pixels.
If False, only return unionize records that disregard injection pixels.
If None, return all records.  Default None.</p>
</div></blockquote>
<p><strong>structure_ids: list</strong></p>
<blockquote>
<div><p>Only return unionize records for a set of structures.
If None, return all records. Default None.</p>
</div></blockquote>
<p><strong>include_descendants: boolean</strong></p>
<blockquote>
<div><p>Include all descendant records for specified structures. Default False.</p>
</div></blockquote>
<p><strong>hemisphere_ids: list</strong></p>
<blockquote class="last">
<div><p>Only return unionize records that disregard pixels outside of a hemisphere.
or set of hemispheres. Left = 1, Right = 2, Both = 3.  If None, include all
records [1, 2, 3].  Default None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_data_mask">
<code class="descname">get_data_mask</code><span class="sig-paren">(</span><em>experiment_id</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.get_data_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_data_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a data mask volume for a single experiment. Download it
first if it doesn&#8217;t exist.  Data mask is a binary mask of
voxels that have valid data.  Only use valid data in analysis!</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>experiment_id: int</strong></p>
<blockquote>
<div><p>ID of the experiment to download/read.  This corresponds to
section_data_set_id in the API.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File name to store the template volume.  If it already exists,
it will be read from this file.  If file_name is None, the
file_name will be pulled out of the manifest.  Default is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_experiment_structure_unionizes">
<code class="descname">get_experiment_structure_unionizes</code><span class="sig-paren">(</span><em>experiment_id</em>, <em>file_name=None</em>, <em>is_injection=None</em>, <em>structure_ids=None</em>, <em>include_descendants=False</em>, <em>hemisphere_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.get_experiment_structure_unionizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_experiment_structure_unionizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the structure unionize data for a specific experiment.  Filter by
structure, injection status, and hemisphere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>experiment_id: int</strong></p>
<blockquote>
<div><p>ID of the experiment of interest.  Corresponds to section_data_set_id in the API.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the experiments list.  If file_name is None,
the file_name will be pulled out of the manifest.  If caching
is disabled, no file will be saved. Default is None.</p>
</div></blockquote>
<p><strong>is_injection: boolean</strong></p>
<blockquote>
<div><p>If True, only return unionize records that disregard non-injection pixels.
If False, only return unionize records that disregard injection pixels.
If None, return all records.  Default None.</p>
</div></blockquote>
<p><strong>structure_ids: list</strong></p>
<blockquote>
<div><p>Only return unionize records for a specific set of structures.
If None, return all records. Default None.</p>
</div></blockquote>
<p><strong>include_descendants: boolean</strong></p>
<blockquote>
<div><p>Include all descendant records for specified structures. Default False.</p>
</div></blockquote>
<p><strong>hemisphere_ids: list</strong></p>
<blockquote class="last">
<div><p>Only return unionize records that disregard pixels outside of a hemisphere.
or set of hemispheres. Left = 1, Right = 2, Both = 3.  If None, include all
records [1, 2, 3].  Default None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_experiments">
<code class="descname">get_experiments</code><span class="sig-paren">(</span><em>dataframe=False</em>, <em>file_name=None</em>, <em>cre=None</em>, <em>injection_structure_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.get_experiments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_experiments" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a list of experiments that match certain criteria.  If caching is enabled,
this will save the whole (unfiltered) list of experiments to a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dataframe: boolean</strong></p>
<blockquote>
<div><p>Return the list of experiments as a Pandas DataFrame.  If False,
return a list of dictionaries.  Default False.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the structures table.  If file_name is None,
the file_name will be pulled out of the manifest.  If caching
is disabled, no file will be saved. Default is None.</p>
</div></blockquote>
<p><strong>cre: boolean or list</strong></p>
<blockquote>
<div><p>If True, return only cre-positive experiments.  If False, return only
cre-negative experiments.  If None, return all experients. If list, return
all experiments with cre line names in the supplied list. Default None.</p>
</div></blockquote>
<p><strong>injection_structure_ids: list</strong></p>
<blockquote class="last">
<div><p>Only return experiments that were injected in the structures provided here.
If None, return all experiments.  Default None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_injection_density">
<code class="descname">get_injection_density</code><span class="sig-paren">(</span><em>experiment_id</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.get_injection_density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_injection_density" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an injection density volume for a single experiment. Download it
first if it doesn&#8217;t exist.  Injection density is the proportion of
projecting pixels in a grid voxel only including pixels that are
part of the injection site in [0,1].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>experiment_id: int</strong></p>
<blockquote>
<div><p>ID of the experiment to download/read.  This corresponds to
section_data_set_id in the API.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File name to store the template volume.  If it already exists,
it will be read from this file.  If file_name is None, the
file_name will be pulled out of the manifest.  Default is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_injection_fraction">
<code class="descname">get_injection_fraction</code><span class="sig-paren">(</span><em>experiment_id</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.get_injection_fraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_injection_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an injection fraction volume for a single experiment. Download it
first if it doesn&#8217;t exist.  Injection fraction is the proportion of
pixels in the injection site in a grid voxel in [0,1].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>experiment_id: int</strong></p>
<blockquote>
<div><p>ID of the experiment to download/read.  This corresponds to
section_data_set_id in the API.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File name to store the template volume.  If it already exists,
it will be read from this file.  If file_name is None, the
file_name will be pulled out of the manifest.  Default is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_projection_density">
<code class="descname">get_projection_density</code><span class="sig-paren">(</span><em>experiment_id</em>, <em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.get_projection_density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_projection_density" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a projection density volume for a single experiment.  Download it
first if it doesn&#8217;t exist.  Projection density is the proportion of
of projecting pixels in a grid voxel in [0,1].</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>experiment_id: int</strong></p>
<blockquote>
<div><p>ID of the experiment to download/read.  This corresponds to
section_data_set_id in the API.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File name to store the template volume.  If it already exists,
it will be read from this file.  If file_name is None, the
file_name will be pulled out of the manifest.  Default is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_projection_matrix">
<code class="descname">get_projection_matrix</code><span class="sig-paren">(</span><em>experiment_ids</em>, <em>projection_structure_ids=None</em>, <em>hemisphere_ids=None</em>, <em>parameter='projection_volume'</em>, <em>dataframe=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.get_projection_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_projection_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_structure_unionizes">
<code class="descname">get_structure_unionizes</code><span class="sig-paren">(</span><em>experiment_ids</em>, <em>is_injection=None</em>, <em>structure_ids=None</em>, <em>include_descendants=False</em>, <em>hemisphere_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.get_structure_unionizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.get_structure_unionizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get structure unionizes for a set of experiment IDs.  Filter the results by injection status,
structure, and hemisphere.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>experiment_ids: list</strong></p>
<blockquote>
<div><p>List of experiment IDs.  Corresponds to section_data_set_id in the API.</p>
</div></blockquote>
<p><strong>is_injection: boolean</strong></p>
<blockquote>
<div><p>If True, only return unionize records that disregard non-injection pixels.
If False, only return unionize records that disregard injection pixels.
If None, return all records.  Default None.</p>
</div></blockquote>
<p><strong>structure_ids: list</strong></p>
<blockquote>
<div><p>Only return unionize records for a specific set of structures.
If None, return all records. Default None.</p>
</div></blockquote>
<p><strong>include_descendants: boolean</strong></p>
<blockquote>
<div><p>Include all descendant records for specified structures. Default False.</p>
</div></blockquote>
<p><strong>hemisphere_ids: list</strong></p>
<blockquote class="last">
<div><p>Only return unionize records that disregard pixels outside of a hemisphere.
or set of hemispheres. Left = 1, Right = 2, Both = 3.  If None, include all
records [1, 2, 3].  Default None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.rank_structures">
<code class="descname">rank_structures</code><span class="sig-paren">(</span><em>experiment_ids</em>, <em>is_injection</em>, <em>structure_ids=None</em>, <em>hemisphere_ids=None</em>, <em>rank_on='normalized_projection_volume'</em>, <em>n=5</em>, <em>threshold=0.01</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/mouse_connectivity_cache.html#MouseConnectivityCache.rank_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.mouse_connectivity_cache.MouseConnectivityCache.rank_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces one or more (per experiment) ranked lists of brain structures, using a specified data field.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>experiment_ids</strong> : list of int</p>
<blockquote>
<div><p>Obtain injection_structures for these experiments.</p>
</div></blockquote>
<p><strong>is_injection</strong> : boolean</p>
<blockquote>
<div><p>Use data from only injection (or non-injection) unionizes.</p>
</div></blockquote>
<p><strong>structure_ids</strong> : list of int, optional</p>
<blockquote>
<div><p>Consider only these structures. It is a good idea to make sure that these structures are not spatially 
overlapping; otherwise your results will contain redundant information. Defaults to the summary 
structures - a brain-wide list of nonoverlapping mid-level structures.</p>
</div></blockquote>
<p><strong>hemisphere_ids</strong> : list of int, optional</p>
<blockquote>
<div><p>Consider only these hemispheres (1: left, 2: right, 3: both). Like with structures, 
you might get redundant results if you select overlapping options. Defaults to [1, 2].</p>
</div></blockquote>
<p><strong>rank_on</strong> : str, optional</p>
<blockquote>
<div><p>Rank unionize data using this field (descending). Defaults to normalized_projection_volume.</p>
</div></blockquote>
<p><strong>n</strong> : int, optional</p>
<blockquote>
<div><p>Return only the top n structures.</p>
</div></blockquote>
<p><strong>threshold</strong> : float, optional</p>
<blockquote>
<div><p>Consider only records whose data value - specified by the rank_on parameter - exceeds this value.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list :</p>
<blockquote class="last">
<div><p>Each element (1 for each input experiment) is a list of dictionaries. The dictionaries describe the top
injection structures in descending order. They are specified by their structure and hemisphere id fields and 
additionally report the value specified by the rank_on parameter.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.nwb_data_set">
<span id="allensdk-core-nwb-data-set-module"></span><h2>allensdk.core.nwb_data_set module<a class="headerlink" href="#module-allensdk.core.nwb_data_set" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.nwb_data_set.NwbDataSet">
<em class="property">class </em><code class="descclassname">allensdk.core.nwb_data_set.</code><code class="descname">NwbDataSet</code><span class="sig-paren">(</span><em>file_name</em>, <em>spike_time_key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A very simple interface for exracting electrophysiology data
from an NWB file.</p>
<dl class="attribute">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.DEPRECATED_SPIKE_TIMES">
<code class="descname">DEPRECATED_SPIKE_TIMES</code><em class="property"> = 'aibs_spike_times'</em><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.DEPRECATED_SPIKE_TIMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.SPIKE_TIMES">
<code class="descname">SPIKE_TIMES</code><em class="property"> = 'spike_times'</em><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.SPIKE_TIMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.fill_sweep_responses">
<code class="descname">fill_sweep_responses</code><span class="sig-paren">(</span><em>fill_value=0.0</em>, <em>sweep_numbers=None</em>, <em>extend_experiment=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet.fill_sweep_responses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.fill_sweep_responses" title="Permalink to this definition">¶</a></dt>
<dd><p>Fill sweep response arrays with a single value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fill_value: float</strong></p>
<blockquote>
<div><p>Value used to fill sweep response array</p>
</div></blockquote>
<p><strong>sweep_numbers: list</strong></p>
<blockquote>
<div><p>List of integer sweep numbers to be filled (default all sweeps)</p>
</div></blockquote>
<p><strong>extend_experiment: bool</strong></p>
<blockquote class="last">
<div><p>If True, extend experiment epoch length to the end of the sweep (undo any truncation)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.get_experiment_sweep_numbers">
<code class="descname">get_experiment_sweep_numbers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet.get_experiment_sweep_numbers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.get_experiment_sweep_numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all of the sweep numbers for experiment epochs in the file, not including test sweeps.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.get_pipeline_version">
<code class="descname">get_pipeline_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet.get_pipeline_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.get_pipeline_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the AI pipeline version number, stored in the 
metadata field &#8216;generated_by&#8217;. If that field is
missing, version 0.0 is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">int tuple: (major, minor)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.get_spike_times">
<code class="descname">get_spike_times</code><span class="sig-paren">(</span><em>sweep_number</em>, <em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet.get_spike_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.get_spike_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Return any spike times stored in the NWB file for a sweep.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sweep_number: int</strong></p>
<blockquote>
<div><p>index to access</p>
</div></blockquote>
<p><strong>key</strong> : string</p>
<blockquote>
<div><p>label where the spike times are stored (default NwbDataSet.SPIKE_TIMES)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote class="last">
<div><p>list of spike times in seconds relative to the start of the sweep</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.get_sweep">
<code class="descname">get_sweep</code><span class="sig-paren">(</span><em>sweep_number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet.get_sweep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.get_sweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the stimulus, response, index_range, and sampling rate
for a particular sweep.  This method hides the NWB file&#8217;s distinction
between a &#8220;Sweep&#8221; and an &#8220;Experiment&#8221;.  An experiment is a subset of
of a sweep that excludes the initial test pulse.  It also excludes
any erroneous response data at the end of the sweep (usually for
ramp sweeps, where recording was terminated mid-stimulus).</p>
<p>Some sweeps do not have an experiment, so full data arrays are
returned.  Sweeps that have an experiment return full data arrays
(include the test pulse) with any erroneous data trimmed from the
back of the sweep.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sweep_number: int</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict</p>
<blockquote class="last">
<div><p>A dictionary with &#8216;stimulus&#8217;, &#8216;response&#8217;, &#8216;index_range&#8217;, and
&#8216;sampling_rate&#8217; elements.  The index range is a 2-tuple where
the first element indicates the end of the test pulse and the
second index is the end of valid response data.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.get_sweep_metadata">
<code class="descname">get_sweep_metadata</code><span class="sig-paren">(</span><em>sweep_number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet.get_sweep_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.get_sweep_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the sweep level metadata associated with each sweep.
Includes information on stimulus parameters like its name and amplitude
as well as recording quality metadata, like access resistance and
seal quality.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sweep_number: int</strong></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict</p>
<blockquote class="last">
<div><p>A dictionary with &#8216;aibs_stimulus_amplitude_pa&#8217;, &#8216;aibs_stimulus_name&#8217;,
&#8216;gain&#8217;, &#8216;initial_access_resistance&#8217;, &#8216;seal&#8217; elements.  These specific
fields are ones encoded in the original AIBS in vitro .nwb files.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.get_sweep_numbers">
<code class="descname">get_sweep_numbers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet.get_sweep_numbers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.get_sweep_numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all of the sweep numbers in the file, including test sweeps.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.set_spike_times">
<code class="descname">set_spike_times</code><span class="sig-paren">(</span><em>sweep_number</em>, <em>spike_times</em>, <em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet.set_spike_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.set_spike_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Set or overwrite the spikes times for a sweep.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sweep_number</strong> : int</p>
<blockquote>
<div><p>index to access</p>
</div></blockquote>
<p><strong>key</strong> : string</p>
<blockquote>
<div><p>where the times are stored (default NwbDataSet.SPIKE_TIME)</p>
</div></blockquote>
<p><strong>spike_times: np.array</strong></p>
<blockquote class="last">
<div><p>array of spike times in seconds</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.nwb_data_set.NwbDataSet.set_sweep">
<code class="descname">set_sweep</code><span class="sig-paren">(</span><em>sweep_number</em>, <em>stimulus</em>, <em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/nwb_data_set.html#NwbDataSet.set_sweep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.nwb_data_set.NwbDataSet.set_sweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite the stimulus or response of an NWB file.
If the supplied arrays are shorter than stored arrays,
they are padded with zeros to match the original data
size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sweep_number: int</strong></p>
<p><strong>stimulus: np.array</strong></p>
<blockquote>
<div><p>Overwrite the stimulus with this array.  If None, stimulus is unchanged.</p>
</div></blockquote>
<p><strong>response: np.array</strong></p>
<blockquote class="last">
<div><p>Overwrite the response with this array.  If None, response is unchanged.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.ontology">
<span id="allensdk-core-ontology-module"></span><h2>allensdk.core.ontology module<a class="headerlink" href="#module-allensdk.core.ontology" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.ontology.Ontology">
<em class="property">class </em><code class="descclassname">allensdk.core.ontology.</code><code class="descname">Ontology</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/ontology.html#Ontology"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.ontology.Ontology" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Deprecated from 0.12.5
<cite>Ontology</cite> has been replaced by <cite>StructureTree</cite>.</p>
</div>
<dl class="method">
<dt id="allensdk.core.ontology.Ontology.get_child_ids">
<code class="descname">get_child_ids</code><span class="sig-paren">(</span><em>structure_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/ontology.html#Ontology.get_child_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.ontology.Ontology.get_child_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the set of ids that are immediate children of one or more structures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids: iterable</strong></p>
<blockquote>
<div><p>Any iterable type that contains structure ids that can be cast to integers.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">set</p>
<blockquote class="last">
<div><p>Set of child structure ids</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.ontology.Ontology.get_children">
<code class="descname">get_children</code><span class="sig-paren">(</span><em>structure_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/ontology.html#Ontology.get_children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.ontology.Ontology.get_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the set of structures that are immediate children of one or more structures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids: iterable</strong></p>
<blockquote>
<div><p>Any iterable type that contains structure ids that can be cast to integers.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">pandas.DataFrame</p>
<blockquote class="last">
<div><p>Set of child structures</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.ontology.Ontology.get_descendant_ids">
<code class="descname">get_descendant_ids</code><span class="sig-paren">(</span><em>structure_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/ontology.html#Ontology.get_descendant_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.ontology.Ontology.get_descendant_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the set of the ids of structures that are descendants of one or more structures.
The returned set will include the input structure ids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids: iterable</strong></p>
<blockquote>
<div><p>Any iterable type that contains structure ids that can be cast to integers.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">set</p>
<blockquote class="last">
<div><p>Set of descendant structure ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.ontology.Ontology.get_descendants">
<code class="descname">get_descendants</code><span class="sig-paren">(</span><em>structure_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/ontology.html#Ontology.get_descendants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.ontology.Ontology.get_descendants" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the set of structures that are descendants of one or more structures.
The returned set will include the input structures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids: iterable</strong></p>
<blockquote>
<div><p>Any iterable type that contains structure ids that can be cast to integers.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">pandas.DataFrame</p>
<blockquote class="last">
<div><p>Set of descendant structures.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.ontology.Ontology.structure_descends_from">
<code class="descname">structure_descends_from</code><span class="sig-paren">(</span><em>child_id</em>, <em>parent_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/ontology.html#Ontology.structure_descends_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.ontology.Ontology.structure_descends_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether one structure id is a descendant of another structure id.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.reference_space">
<span id="allensdk-core-reference-space-module"></span><h2>allensdk.core.reference_space module<a class="headerlink" href="#module-allensdk.core.reference_space" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.reference_space.ReferenceSpace">
<em class="property">class </em><code class="descclassname">allensdk.core.reference_space.</code><code class="descname">ReferenceSpace</code><span class="sig-paren">(</span><em>structure_tree</em>, <em>annotation</em>, <em>resolution</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="staticmethod">
<dt id="allensdk.core.reference_space.ReferenceSpace.check_and_write">
<em class="property">static </em><code class="descname">check_and_write</code><span class="sig-paren">(</span><em>base_dir</em>, <em>structure_id</em>, <em>fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.check_and_write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.check_and_write" title="Permalink to this definition">¶</a></dt>
<dd><p>A many_structure_masks callback that writes the mask to a nrrd file 
if the file does not already exist.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space.ReferenceSpace.check_coverage">
<code class="descname">check_coverage</code><span class="sig-paren">(</span><em>structure_ids</em>, <em>domain_mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.check_coverage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.check_coverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether a spatial domain is completely covered by 
structures in a set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids</strong> : list of int</p>
<blockquote>
<div><p>Specifies the set of structures to check.</p>
</div></blockquote>
<p><strong>domain_mask</strong> : numpy ndarray</p>
<blockquote>
<div><p>Same shape as annotation. 1 inside the mask, 0 out. Specifies 
spatial domain.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">numpy ndarray :</p>
<blockquote class="last">
<div><p>1 where voxels are missing from the candidate, 0 where the 
candidate exceeds the domain</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space.ReferenceSpace.direct_voxel_counts">
<code class="descname">direct_voxel_counts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.direct_voxel_counts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.direct_voxel_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the number of voxels directly assigned to one or more 
structures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict :</p>
<blockquote class="last">
<div><p>Keys are structure ids, values are the number of voxels directly 
assigned to those structures.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.reference_space.ReferenceSpace.direct_voxel_map">
<code class="descname">direct_voxel_map</code><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.direct_voxel_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space.ReferenceSpace.downsample">
<code class="descname">downsample</code><span class="sig-paren">(</span><em>target_resolution</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.downsample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.downsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a smaller reference space by downsampling</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>target_resolution</strong> : tuple of numeric</p>
<blockquote>
<div><p>Resolution in microns of the output space.</p>
</div></blockquote>
<p><strong>interpolator</strong> : string</p>
<blockquote>
<div><p>Method used to interpolate the volume. Currently only &#8216;nearest&#8217; 
is supported</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ReferenceSpace :</p>
<blockquote class="last">
<div><p>A new ReferenceSpace with the same structure tree and a 
downsampled annotation.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space.ReferenceSpace.get_slice_image">
<code class="descname">get_slice_image</code><span class="sig-paren">(</span><em>axis</em>, <em>position</em>, <em>cmap=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.get_slice_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.get_slice_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce a AxBx3 RGB image from a slice in the annotation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>axis</strong> : int</p>
<blockquote>
<div><p>Along which to slice the annotation volume. 0 is coronal, 1 is 
horizontal, and 2 is sagittal.</p>
</div></blockquote>
<p><strong>position</strong> : int</p>
<blockquote>
<div><p>In microns. Take the slice from this far along the specified axis.</p>
</div></blockquote>
<p><strong>cmap</strong> : dict, optional</p>
<blockquote>
<div><p>Keys are structure ids, values are rgb triplets. Defaults to 
structure rgb_triplets.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">np.ndarray :</p>
<blockquote class="last">
<div><p>RGB image array.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If you assign a custom colormap, make sure that you take care of the 
background in addition to the structures.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space.ReferenceSpace.make_structure_mask">
<code class="descname">make_structure_mask</code><span class="sig-paren">(</span><em>structure_ids</em>, <em>direct_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.make_structure_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.make_structure_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an indicator array for one or more structures</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids</strong> : list of int</p>
<blockquote>
<div><p>Make a mask that indicates the union of these structures&#8217; voxels</p>
</div></blockquote>
<p><strong>direct_only</strong> : bool, optional</p>
<blockquote>
<div><p>If True, only include voxels directly assigned to a structure in 
the mask. Otherwise include voxels assigned to descendants.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">numpy ndarray :</p>
<blockquote class="last">
<div><p>Same shape as annotation. 1 inside mask, 0 outside.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space.ReferenceSpace.many_structure_masks">
<code class="descname">many_structure_masks</code><span class="sig-paren">(</span><em>structure_ids</em>, <em>output_cb=None</em>, <em>direct_only=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.many_structure_masks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.many_structure_masks" title="Permalink to this definition">¶</a></dt>
<dd><p>Build one or more structure masks and do something with them</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids</strong> : list of int</p>
<blockquote>
<div><p>Specify structures to be masked</p>
</div></blockquote>
<p><strong>output_cb</strong> : function, optional</p>
<blockquote>
<div><p>Must have the following signature: output_cb(structure_id, fn). 
On each requested id, fn will be curried to make a mask for that 
id. Defaults to returning the structure id and mask.</p>
</div></blockquote>
<p><strong>direct_only</strong> : bool, optional</p>
<blockquote>
<div><p>If True, only include voxels directly assigned to a structure in 
the mask. Otherwise include voxels assigned to descendants.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first">Return values of output_cb called on each structure_id, structure_mask</p>
<p class="last">pair.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>output_cb is called on every yield, so any side-effects (such as 
writing to a file) will be carried out regardless of what you do with 
the return values. You do actually have to iterate through the output, 
though.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space.ReferenceSpace.remove_unassigned">
<code class="descname">remove_unassigned</code><span class="sig-paren">(</span><em>update_self=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.remove_unassigned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.remove_unassigned" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains a structure tree consisting only of structures that have 
at least one voxel in the annotation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>update_self</strong> : bool, optional</p>
<blockquote>
<div><p>If True, the contained structure tree will be replaced,</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dict :</p>
<blockquote class="last">
<div><p>elements are filtered structures</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="allensdk.core.reference_space.ReferenceSpace.return_mask_cb">
<em class="property">static </em><code class="descname">return_mask_cb</code><span class="sig-paren">(</span><em>structure_id</em>, <em>fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.return_mask_cb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.return_mask_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>A basic callback for many_structure_masks</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space.ReferenceSpace.total_voxel_counts">
<code class="descname">total_voxel_counts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.total_voxel_counts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.total_voxel_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the number of voxels assigned to a structure or its 
descendants</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict :</p>
<blockquote class="last">
<div><p>Keys are structure ids, values are the number of voxels assigned 
to structures&#8217; descendants.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.reference_space.ReferenceSpace.total_voxel_map">
<code class="descname">total_voxel_map</code><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.total_voxel_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space.ReferenceSpace.validate_structures">
<code class="descname">validate_structures</code><span class="sig-paren">(</span><em>structure_ids</em>, <em>domain_mask</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space.html#ReferenceSpace.validate_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space.ReferenceSpace.validate_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether a set of structures produces an exact and 
nonoverlapping tiling of a spatial domain</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids</strong> : list of int</p>
<blockquote>
<div><p>Specifies the set of structures to check.</p>
</div></blockquote>
<p><strong>domain_mask</strong> : numpy ndarray</p>
<blockquote>
<div><p>Same shape as annotation. 1 inside the mask, 0 out. Specifies 
spatial domain.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">set :</p>
<blockquote>
<div><p>Ids of structures that are the ancestors of other structures in 
the supplied set.</p>
</div></blockquote>
<p>numpy ndarray :</p>
<blockquote class="last">
<div><p>Indicator for missing voxels.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.reference_space_cache">
<span id="allensdk-core-reference-space-cache-module"></span><h2>allensdk.core.reference_space_cache module<a class="headerlink" href="#module-allensdk.core.reference_space_cache" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache">
<em class="property">class </em><code class="descclassname">allensdk.core.reference_space_cache.</code><code class="descname">ReferenceSpaceCache</code><span class="sig-paren">(</span><em>resolution</em>, <em>reference_space_key</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space_cache.html#ReferenceSpaceCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="allensdk.api.html#allensdk.api.cache.Cache" title="allensdk.api.cache.Cache"><code class="xref py py-class docutils literal"><span class="pre">allensdk.api.cache.Cache</span></code></a></p>
<dl class="attribute">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.ANNOTATION_KEY">
<code class="descname">ANNOTATION_KEY</code><em class="property"> = 'ANNOTATION'</em><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.ANNOTATION_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.MANIFEST_VERSION">
<code class="descname">MANIFEST_VERSION</code><em class="property"> = 1.1</em><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.MANIFEST_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.REFERENCE_SPACE_VERSION_KEY">
<code class="descname">REFERENCE_SPACE_VERSION_KEY</code><em class="property"> = 'REFERENCE_SPACE_VERSION'</em><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.REFERENCE_SPACE_VERSION_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.STRUCTURES_KEY">
<code class="descname">STRUCTURES_KEY</code><em class="property"> = 'STRUCTURES'</em><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.STRUCTURES_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.STRUCTURE_MASK_KEY">
<code class="descname">STRUCTURE_MASK_KEY</code><em class="property"> = 'STRUCTURE_MASK'</em><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.STRUCTURE_MASK_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.STRUCTURE_TREE_KEY">
<code class="descname">STRUCTURE_TREE_KEY</code><em class="property"> = 'STRUCTURE_TREE'</em><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.STRUCTURE_TREE_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.TEMPLATE_KEY">
<code class="descname">TEMPLATE_KEY</code><em class="property"> = 'TEMPLATE'</em><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.TEMPLATE_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.add_manifest_paths">
<code class="descname">add_manifest_paths</code><span class="sig-paren">(</span><em>manifest_builder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space_cache.html#ReferenceSpaceCache.add_manifest_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.add_manifest_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a manifest for this Cache class and save it in a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File location to save the manifest.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.get_annotation_volume">
<code class="descname">get_annotation_volume</code><span class="sig-paren">(</span><em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space_cache.html#ReferenceSpaceCache.get_annotation_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.get_annotation_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the annotation volume.  Download it first if it doesn&#8217;t exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File name to store the annotation volume.  If it already exists,
it will be read from this file.  If file_name is None, the
file_name will be pulled out of the manifest.  Default is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.get_reference_space">
<code class="descname">get_reference_space</code><span class="sig-paren">(</span><em>structure_file_name=None</em>, <em>annotation_file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space_cache.html#ReferenceSpaceCache.get_reference_space"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.get_reference_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a ReferenceSpace from this cache&#8217;s annotation volume and 
structure tree. The ReferenceSpace does operations that relate brain 
structures to spatial domains.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the structures table.  If file_name is None,
the file_name will be pulled out of the manifest.  If caching
is disabled, no file will be saved. Default is None.</p>
</div></blockquote>
<p><strong>annotation_file_name: string</strong></p>
<blockquote class="last">
<div><p>File name to store the annotation volume.  If it already exists,
it will be read from this file.  If file_name is None, the
file_name will be pulled out of the manifest.  Default is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.get_structure_mask">
<code class="descname">get_structure_mask</code><span class="sig-paren">(</span><em>structure_id</em>, <em>file_name=None</em>, <em>annotation_file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space_cache.html#ReferenceSpaceCache.get_structure_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.get_structure_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a 3D numpy array shaped like the annotation volume that has non-zero values where
voxels belong to a particular structure.  This will take care of identifying substructures.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_id: int</strong></p>
<blockquote>
<div><p>ID of a structure.</p>
</div></blockquote>
<p><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to store the structure mask.  If it already exists,
it will be read from this file.  If file_name is None, the
file_name will be pulled out of the manifest.  Default is None.</p>
</div></blockquote>
<p><strong>annotation_file_name: string</strong></p>
<blockquote class="last">
<div><p>File name to store the annotation volume.  If it already exists,
it will be read from this file.  If file_name is None, the
file_name will be pulled out of the manifest.  Default is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This method downloads structure masks from the Allen Institute. To make your own locally, see 
ReferenceSpace.many_structure_masks.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.get_structure_tree">
<code class="descname">get_structure_tree</code><span class="sig-paren">(</span><em>file_name=None</em>, <em>structure_graph_id=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space_cache.html#ReferenceSpaceCache.get_structure_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.get_structure_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the list of adult mouse structures and return an StructureTree 
instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote>
<div><p>File name to save/read the structures table.  If file_name is None,
the file_name will be pulled out of the manifest.  If caching
is disabled, no file will be saved. Default is None.</p>
</div></blockquote>
<p><strong>structure_graph_id: int</strong></p>
<blockquote class="last">
<div><p>Build a tree using structure only from the identified structure graph.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.get_template_volume">
<code class="descname">get_template_volume</code><span class="sig-paren">(</span><em>file_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space_cache.html#ReferenceSpaceCache.get_template_volume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.get_template_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the template volume.  Download it first if it doesn&#8217;t exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>File name to store the template volume.  If it already exists,
it will be read from this file.  If file_name is None, the
file_name will be pulled out of the manifest.  Default is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.validate_structure_id">
<em class="property">classmethod </em><code class="descname">validate_structure_id</code><span class="sig-paren">(</span><em>structure_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space_cache.html#ReferenceSpaceCache.validate_structure_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.validate_structure_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="allensdk.core.reference_space_cache.ReferenceSpaceCache.validate_structure_ids">
<em class="property">classmethod </em><code class="descname">validate_structure_ids</code><span class="sig-paren">(</span><em>structure_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/reference_space_cache.html#ReferenceSpaceCache.validate_structure_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.reference_space_cache.ReferenceSpaceCache.validate_structure_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.simple_tree">
<span id="allensdk-core-simple-tree-module"></span><h2>allensdk.core.simple_tree module<a class="headerlink" href="#module-allensdk.core.simple_tree" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.simple_tree.SimpleTree">
<em class="property">class </em><code class="descclassname">allensdk.core.simple_tree.</code><code class="descname">SimpleTree</code><span class="sig-paren">(</span><em>nodes</em>, <em>node_id_cb</em>, <em>parent_id_cb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.ancestor_ids">
<code class="descname">ancestor_ids</code><span class="sig-paren">(</span><em>node_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.ancestor_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.ancestor_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the ids of one or more nodes&#8217; ancestors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_ids</strong> : list of hashable</p>
<blockquote>
<div><p>Items are ids of nodes whose ancestors you wish to find.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of list of hashable :</p>
<blockquote class="last">
<div><p>Items are lists of input nodes&#8217; ancestors&#8217; ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Given the tree:
A -&gt; B -&gt; C</p>
<blockquote>
<div><a href="#id1"><span class="problematic" id="id2">`</span></a>-&gt; D</div></blockquote>
<p>The ancestors of C are [C, B, A]. The ancestors of A are [A]. The 
ancestors of D are [D, A]</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.ancestors">
<code class="descname">ancestors</code><span class="sig-paren">(</span><em>node_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.ancestors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.ancestors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get one or mode nodes&#8217; ancestor nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_ids</strong> : list of hashable</p>
<blockquote>
<div><p>Items are ids of nodes whose ancestors will be found.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of list of dict :</p>
<blockquote class="last">
<div><p>Items are lists of ancestor nodes corresponding to argued ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.child_ids">
<code class="descname">child_ids</code><span class="sig-paren">(</span><em>node_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.child_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.child_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the ids of one or more nodes&#8217; children</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_ids</strong> : list of hashable</p>
<blockquote>
<div><p>Items are ids of nodes whose children you wish to find.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of list of hashable :</p>
<blockquote class="last">
<div><p>Items are lists of input nodes&#8217; children&#8217;s ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.children">
<code class="descname">children</code><span class="sig-paren">(</span><em>node_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.children"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.children" title="Permalink to this definition">¶</a></dt>
<dd><p>Get one or mode nodes&#8217; child nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_ids</strong> : list of hashable</p>
<blockquote>
<div><p>Items are ids of nodes whose children will be found.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of list of dict :</p>
<blockquote class="last">
<div><p>Items are lists of child nodes corresponding to argued ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.descendant_ids">
<code class="descname">descendant_ids</code><span class="sig-paren">(</span><em>node_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.descendant_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.descendant_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the ids of one or more nodes&#8217; descendants</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_ids</strong> : list of hashable</p>
<blockquote>
<div><p>Items are ids of nodes whose descendants you wish to find.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of list of hashable :</p>
<blockquote class="last">
<div><p>Items are lists of input nodes&#8217; descendants&#8217; ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Given the tree:
A -&gt; B -&gt; C</p>
<blockquote>
<div><a href="#id3"><span class="problematic" id="id4">`</span></a>-&gt; D</div></blockquote>
<p>The descendants of A are [B, C, D]. The descendants of C are [].</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.descendants">
<code class="descname">descendants</code><span class="sig-paren">(</span><em>node_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.descendants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.descendants" title="Permalink to this definition">¶</a></dt>
<dd><p>Get one or mode nodes&#8217; descendant nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_ids</strong> : list of hashable</p>
<blockquote>
<div><p>Items are ids of nodes whose descendants will be found.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of list of dict :</p>
<blockquote class="last">
<div><p>Items are lists of descendant nodes corresponding to argued ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.filter_nodes">
<code class="descname">filter_nodes</code><span class="sig-paren">(</span><em>criterion</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.filter_nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.filter_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a list of nodes filtered by some criterion</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>criterion</strong> : function | node dict =&gt; bool</p>
<blockquote>
<div><p>Only nodes for which criterion returns true will be returned.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dict :</p>
<blockquote class="last">
<div><p>Items are node dictionaries that passed the filter.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.node">
<code class="descname">node</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.node_ids">
<code class="descname">node_ids</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.node_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.node_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the node ids of each node in the tree</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list :</p>
<blockquote class="last">
<div><p>elements are node ids</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.nodes">
<code class="descname">nodes</code><span class="sig-paren">(</span><em>node_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.nodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Get one or more nodes&#8217; full dictionaries from their ids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_ids</strong> : list of hashable</p>
<blockquote>
<div><p>Items are ids of nodes to be returned. Default is all.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dict :</p>
<blockquote class="last">
<div><p>Items are nodes corresponding to argued ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.parent">
<code class="descname">parent</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.parent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.parent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.parent_id">
<code class="descname">parent_id</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.parent_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.parent_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.parent_ids">
<code class="descname">parent_ids</code><span class="sig-paren">(</span><em>node_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.parent_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.parent_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the ids of one or more nodes&#8217; parents</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_ids</strong> : list of hashable</p>
<blockquote>
<div><p>Items are ids of nodes whose parents you wish to find.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of hashable :</p>
<blockquote class="last">
<div><p>Items are ids of input nodes&#8217; parents in order.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.parents">
<code class="descname">parents</code><span class="sig-paren">(</span><em>node_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.parents" title="Permalink to this definition">¶</a></dt>
<dd><p>Get one or mode nodes&#8217; parent nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_ids</strong> : list of hashable</p>
<blockquote>
<div><p>Items are ids of nodes whose parents will be found.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dict :</p>
<blockquote class="last">
<div><p>Items are parents of nodes corresponding to argued ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.simple_tree.SimpleTree.value_map">
<code class="descname">value_map</code><span class="sig-paren">(</span><em>from_fn</em>, <em>to_fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/simple_tree.html#SimpleTree.value_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.simple_tree.SimpleTree.value_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a look-up table relating a pair of node properties across 
nodes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>from_fn</strong> : function | node dict =&gt; hashable value</p>
<blockquote>
<div><p>The keys of the output dictionary will be obtained by calling 
from_fn on each node.</p>
</div></blockquote>
<p><strong>to_fn</strong> : function | node_dict =&gt; value</p>
<blockquote>
<div><p>The values of the output function will be obtained by calling 
to_fn on each node.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict :</p>
<blockquote class="last">
<div><p>Maps the node property defined by from_fn to the node property 
defined by to_fn across nodes.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The resulting map is not necessarily 1-to-1!</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.structure_tree">
<span id="allensdk-core-structure-tree-module"></span><h2>allensdk.core.structure_tree module<a class="headerlink" href="#module-allensdk.core.structure_tree" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.structure_tree.StructureTree">
<em class="property">class </em><code class="descclassname">allensdk.core.structure_tree.</code><code class="descname">StructureTree</code><span class="sig-paren">(</span><em>nodes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allensdk.core.simple_tree.SimpleTree" title="allensdk.core.simple_tree.SimpleTree"><code class="xref py py-class docutils literal"><span class="pre">allensdk.core.simple_tree.SimpleTree</span></code></a></p>
<dl class="staticmethod">
<dt id="allensdk.core.structure_tree.StructureTree.clean_structures">
<em class="property">static </em><code class="descname">clean_structures</code><span class="sig-paren">(</span><em>structures</em>, <em>whitelist=None</em>, <em>data_transforms=None</em>, <em>renames=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.clean_structures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.clean_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert structures_with_sets query results into a form that can be 
used to construct a StructureTree</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structures</strong> : list of dict</p>
<blockquote>
<div><p>Each element describes a structure. Should have a structure id path 
field (str values) and a structure_sets field (list of dict).</p>
</div></blockquote>
<p><strong>whitelist</strong> : list of str, optional</p>
<blockquote>
<div><p>Only these fields will be included in the final structure record. Default is 
the output of StructureTree.whitelist.</p>
</div></blockquote>
<p><strong>data_transforms</strong> : dict, optional</p>
<blockquote>
<div><p>Keys are str field names. Values are functions which will be applied to the 
data associated with those fields. Default is to map colors from hex to rgb and 
convert the structure id path to a list of int.</p>
</div></blockquote>
<p><strong>renames</strong> : dict, optional</p>
<blockquote>
<div><p>Controls the field names that appear in the output structure records. Default is 
to map &#8216;color_hex_triplet&#8217; to &#8216;rgb_triplet&#8217;.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dict :</p>
<blockquote class="last">
<div><p>structures, after conversion of structure_id_path and structure_sets</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="allensdk.core.structure_tree.StructureTree.collect_sets">
<em class="property">static </em><code class="descname">collect_sets</code><span class="sig-paren">(</span><em>structure</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.collect_sets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.collect_sets" title="Permalink to this definition">¶</a></dt>
<dd><p>Structure sets may be specified by full records or id. This method 
collects all of the structure set records/ids in a structure record and 
replaces them with a single list of id records.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="allensdk.core.structure_tree.StructureTree.data_transforms">
<em class="property">static </em><code class="descname">data_transforms</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.data_transforms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.data_transforms" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.get_ancestor_id_map">
<code class="descname">get_ancestor_id_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.get_ancestor_id_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.get_ancestor_id_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dictionary mapping structure ids to ancestor ids across all 
nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict :</p>
<blockquote class="last">
<div><p>Keys are structure ids. Values are lists of ancestor ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.get_colormap">
<code class="descname">get_colormap</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.get_colormap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.get_colormap" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dictionary mapping structure ids to colors across all nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict :</p>
<blockquote class="last">
<div><p>Keys are structure ids. Values are RGB lists of integers.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.get_id_acronym_map">
<code class="descname">get_id_acronym_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.get_id_acronym_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.get_id_acronym_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dictionary mapping structure acronyms to ids across all nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict :</p>
<blockquote class="last">
<div><p>Keys are structure acronyms. Values are structure ids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.get_name_map">
<code class="descname">get_name_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.get_name_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.get_name_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dictionary mapping structure ids to names across all nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict :</p>
<blockquote class="last">
<div><p>Keys are structure ids. Values are structure name strings.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.get_structure_sets">
<code class="descname">get_structure_sets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.get_structure_sets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.get_structure_sets" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists all unique structure sets that are assigned to at least one 
structure in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of int :</p>
<blockquote class="last">
<div><p>Elements are ids of structure sets.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.get_structures_by_acronym">
<code class="descname">get_structures_by_acronym</code><span class="sig-paren">(</span><em>acronyms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.get_structures_by_acronym"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.get_structures_by_acronym" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a list of brain structures from their acronyms</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>names</strong> : list of str</p>
<blockquote>
<div><p>Get structures corresponding to these acronyms.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dict :</p>
<blockquote class="last">
<div><p>Each item describes a structure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.get_structures_by_id">
<code class="descname">get_structures_by_id</code><span class="sig-paren">(</span><em>structure_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.get_structures_by_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.get_structures_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a list of brain structures from their structure ids</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids</strong> : list of int</p>
<blockquote>
<div><p>Get structures corresponding to these ids.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dict :</p>
<blockquote class="last">
<div><p>Each item describes a structure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.get_structures_by_name">
<code class="descname">get_structures_by_name</code><span class="sig-paren">(</span><em>names</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.get_structures_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.get_structures_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a list of brain structures from their names,</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>names</strong> : list of str</p>
<blockquote>
<div><p>Get structures corresponding to these names.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dict :</p>
<blockquote class="last">
<div><p>Each item describes a structure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.get_structures_by_set_id">
<code class="descname">get_structures_by_set_id</code><span class="sig-paren">(</span><em>structure_set_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.get_structures_by_set_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.get_structures_by_set_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a list of brain structures from by the sets that contain 
them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_set_ids</strong> : list of int</p>
<blockquote>
<div><p>Get structures belonging to these structure sets.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of dict :</p>
<blockquote class="last">
<div><p>Each item describes a structure.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.has_overlaps">
<code class="descname">has_overlaps</code><span class="sig-paren">(</span><em>structure_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.has_overlaps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.has_overlaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if a list of structures contains structures along with 
their ancestors</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>structure_ids</strong> : list of int</p>
<blockquote>
<div><p>Check this set of structures for overlaps</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">set :</p>
<blockquote class="last">
<div><p>Ids of structures that are the ancestors of other structures in 
the supplied set.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="allensdk.core.structure_tree.StructureTree.hex_to_rgb">
<em class="property">static </em><code class="descname">hex_to_rgb</code><span class="sig-paren">(</span><em>hex_color</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.hex_to_rgb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.hex_to_rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a hexadecimal color string to a uint8 triplet</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>hex_color</strong> : string</p>
<blockquote>
<div><p>Must be 6 characters long, unless it is 7 long and the first 
character is #. If hex_color is a triplet of int, it will be 
returned unchanged.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of int :</p>
<blockquote class="last">
<div><p>3 characters long - 1 per two characters in the input string.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="allensdk.core.structure_tree.StructureTree.path_to_list">
<em class="property">static </em><code class="descname">path_to_list</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.path_to_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.path_to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Structure id paths are sometimes formatted as &#8220;/&#8221;-seperated strings. 
This method converts them to a list of integers, if needed.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="allensdk.core.structure_tree.StructureTree.renames">
<em class="property">static </em><code class="descname">renames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.renames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.renames" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.structure_tree.StructureTree.structure_descends_from">
<code class="descname">structure_descends_from</code><span class="sig-paren">(</span><em>child_id</em>, <em>parent_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.structure_descends_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.structure_descends_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether one structure descends from another.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>child_id</strong> : int</p>
<blockquote>
<div><p>Id of the putative child structure.</p>
</div></blockquote>
<p><strong>parent_id</strong> : int</p>
<blockquote>
<div><p>Id of the putative parent structure.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool :</p>
<blockquote class="last">
<div><p>True if the structure specified by child_id is a descendant of 
the one specified by parent_id. Otherwise False.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="allensdk.core.structure_tree.StructureTree.whitelist">
<em class="property">static </em><code class="descname">whitelist</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/structure_tree.html#StructureTree.whitelist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.structure_tree.StructureTree.whitelist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.core.swc">
<span id="allensdk-core-swc-module"></span><h2>allensdk.core.swc module<a class="headerlink" href="#module-allensdk.core.swc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.core.swc.Compartment">
<em class="property">class </em><code class="descclassname">allensdk.core.swc.</code><code class="descname">Compartment</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Compartment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Compartment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>A dictionary class storing information about a single morphology node</p>
<dl class="method">
<dt id="allensdk.core.swc.Compartment.print_node">
<code class="descname">print_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Compartment.print_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Compartment.print_node" title="Permalink to this definition">¶</a></dt>
<dd><p>print out compartment information with field names</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="allensdk.core.swc.Marker">
<em class="property">class </em><code class="descclassname">allensdk.core.swc.</code><code class="descname">Marker</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Marker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Marker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">dict</span></code></p>
<p>Simple dictionary class for handling reconstruction marker objects.</p>
<dl class="attribute">
<dt id="allensdk.core.swc.Marker.CUT_DENDRITE">
<code class="descname">CUT_DENDRITE</code><em class="property"> = 10</em><a class="headerlink" href="#allensdk.core.swc.Marker.CUT_DENDRITE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Marker.NO_RECONSTRUCTION">
<code class="descname">NO_RECONSTRUCTION</code><em class="property"> = 20</em><a class="headerlink" href="#allensdk.core.swc.Marker.NO_RECONSTRUCTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Marker.SPACING">
<code class="descname">SPACING</code><em class="property"> = [0.1144, 0.1144, 0.28]</em><a class="headerlink" href="#allensdk.core.swc.Marker.SPACING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="allensdk.core.swc.Morphology">
<em class="property">class </em><code class="descclassname">allensdk.core.swc.</code><code class="descname">Morphology</code><span class="sig-paren">(</span><em>compartment_list=None</em>, <em>compartment_index=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Keep track of the list of compartments in a morphology and provide
a few helper methods (soma, tree information, pruning, etc).</p>
<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.APICAL_DENDRITE">
<code class="descname">APICAL_DENDRITE</code><em class="property"> = 4</em><a class="headerlink" href="#allensdk.core.swc.Morphology.APICAL_DENDRITE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.AXON">
<code class="descname">AXON</code><em class="property"> = 2</em><a class="headerlink" href="#allensdk.core.swc.Morphology.AXON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.BASAL_DENDRITE">
<code class="descname">BASAL_DENDRITE</code><em class="property"> = 3</em><a class="headerlink" href="#allensdk.core.swc.Morphology.BASAL_DENDRITE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.DENDRITE">
<code class="descname">DENDRITE</code><em class="property"> = 3</em><a class="headerlink" href="#allensdk.core.swc.Morphology.DENDRITE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.NODE_TYPES">
<code class="descname">NODE_TYPES</code><em class="property"> = [1, 2, 3, 3, 4]</em><a class="headerlink" href="#allensdk.core.swc.Morphology.NODE_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.SOMA">
<code class="descname">SOMA</code><em class="property"> = 1</em><a class="headerlink" href="#allensdk.core.swc.Morphology.SOMA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>node_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Add additional nodes to this Morphology. Those nodes must
originate from another morphology object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>node_list: list of Morphology nodes</strong></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.apply_affine">
<code class="descname">apply_affine</code><span class="sig-paren">(</span><em>aff</em>, <em>scale=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.apply_affine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.apply_affine" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply an affine transform to all compartments in this
morphology. Node radius is adjusted as well.</p>
<p>Format of the affine matrix is:</p>
<p>[x0 y0 z0]  [tx]
[x1 y1 z1]  [ty]
[x2 y2 z2]  [tz]</p>
<p>where the left 3x3 the matrix defines the affine rotation
and scaling, and the right column is the translation
vector.</p>
<p>The matrix must be collapsed and stored in a list as follows:</p>
<p>[x0 y0, z0, x1, y1, z1, x2, y2, z2, tx, ty, tz]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>aff: 3x4 array of floats (python 2D list, or numpy 2D array)</strong></p>
<blockquote class="last">
<div><p>the transformation matrix</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.change_parent">
<code class="descname">change_parent</code><span class="sig-paren">(</span><em>child</em>, <em>parent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.change_parent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.change_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the parent of a node. The child node is adjusted to
point to the new parent, the child is taken off of the previous
parent&#8217;s child list, and it is added to the new parent&#8217;s child list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>child: integer or Morphology Object</strong></p>
<blockquote>
<div><p>The ID of the child node, or the child node itself</p>
</div></blockquote>
<p><strong>parent: integer or Morphology Object</strong></p>
<blockquote>
<div><p>The ID of the parent node, or the parent node itself</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Nothing</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.children_of">
<code class="descname">children_of</code><span class="sig-paren">(</span><em>seg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.children_of"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.children_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the children of the specified node</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>seg: integer or Morphology Object</strong></p>
<blockquote>
<div><p>The ID of the parent node, or the parent node itself</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of the child morphology objects. If the ID of the parent</p>
<p class="last">node is invalid, None is returned.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.compartment_index">
<code class="descname">compartment_index</code><a class="headerlink" href="#allensdk.core.swc.Morphology.compartment_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the compartment index.  This is a property to ensure that the
compartment list and compartment index are in sync.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.compartment_index_by_type">
<code class="descname">compartment_index_by_type</code><span class="sig-paren">(</span><em>compartment_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.compartment_index_by_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.compartment_index_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an dictionary of compartments indexed by id that all have
a particular compartment type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>compartment_type: int</strong></p>
<blockquote>
<div><p>Desired compartment type</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionary of Morphology Objects, indexed by ID</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.compartment_list">
<code class="descname">compartment_list</code><a class="headerlink" href="#allensdk.core.swc.Morphology.compartment_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the compartment list.  This is a property to ensure that the
compartment list and compartment index are in sync.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.compartment_list_by_type">
<code class="descname">compartment_list_by_type</code><span class="sig-paren">(</span><em>compartment_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.compartment_list_by_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.compartment_list_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an list of all compartments having the specified
compartment type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>compartment_type: int</strong></p>
<blockquote>
<div><p>Desired compartment type</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of of Morphology Objects</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.convert_type">
<code class="descname">convert_type</code><span class="sig-paren">(</span><em>old_type</em>, <em>new_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.convert_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.convert_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts all compartments from one type to another.
Nodes of the original type are not affected so this
procedure can also be used as a merge procedure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>old_type: enum</strong></p>
<blockquote>
<div><p>The compartment type to be changed.
Use one of the following constants: SOMA, AXON, DENDRITE,
BASAL_DENDRITE, or APICAL_DENDRITE</p>
</div></blockquote>
<p><strong>new_type: enum</strong></p>
<blockquote class="last">
<div><p>The target compartment type.
Use one of the following constants: SOMA, AXON, DENDRITE,
BASAL_DENDRITE, or APICAL_DENDRITE</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.delete_tree">
<code class="descname">delete_tree</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.delete_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.delete_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete tree, and all of its compartments, from the morphology.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n: Integer</strong></p>
<blockquote class="last">
<div><p>The tree number to delete</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em>, <em>y</em>, <em>z</em>, <em>dist</em>, <em>node_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of Morphology Objects located within &#8216;dist&#8217;
of coordinate (x,y,z). If node_type is specified, the search
will be constrained to return only nodes of that type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x, y, z: float</strong></p>
<blockquote>
<div><p>The x,y,z coordinates from which to search around</p>
</div></blockquote>
<p><strong>dist: float</strong></p>
<blockquote>
<div><p>The search radius</p>
</div></blockquote>
<p><strong>node_type: enum (optional)</strong></p>
<blockquote>
<div><p>One of the following constants: SOMA, AXON, DENDRITE,
BASAL_DENDRITE or APICAL_DENDRITE</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of all Morphology Objects matching the search criteria</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.node">
<code class="descname">node</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.node" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the morphology node having the specified ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n: integer</strong></p>
<blockquote>
<div><p>ID of desired node</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A morphology object having the specified ID, or None if such a</p>
<p class="last">node doesn&#8217;t exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.num_nodes">
<code class="descname">num_nodes</code><a class="headerlink" href="#allensdk.core.swc.Morphology.num_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of compartments in the morphology.</p>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.num_trees">
<code class="descname">num_trees</code><a class="headerlink" href="#allensdk.core.swc.Morphology.num_trees" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of trees in the morphology. A tree is
defined as everything following from a single root compartment.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.parent_of">
<code class="descname">parent_of</code><span class="sig-paren">(</span><em>seg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.parent_of"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.parent_of" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns parent of the specified node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>seg: integer or Morphology Object</strong></p>
<blockquote>
<div><p>The ID of the child node, or the child node itself</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A morphology object, or None if no parent exists or if the</p>
<p class="last">specified node ID doesn&#8217;t exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.root">
<code class="descname">root</code><a class="headerlink" href="#allensdk.core.swc.Morphology.root" title="Permalink to this definition">¶</a></dt>
<dd><p>[deprecated] Returns root node of soma, if present. Use &#8216;soma&#8217; instead of &#8216;root&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Write this morphology out to an SWC file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote class="last">
<div><p>desired name of your SWC file</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.core.swc.Morphology.soma">
<code class="descname">soma</code><a class="headerlink" href="#allensdk.core.swc.Morphology.soma" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns root node of soma, if present</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.sparsify">
<code class="descname">sparsify</code><span class="sig-paren">(</span><em>modulo</em>, <em>compress_ids=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.sparsify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.sparsify" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Morphology object that has a given number of non-leaf,
non-root nodes removed.  IDs can be reassigned so as to be continuous.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>modulo: int</strong></p>
<blockquote>
<div><p>keep 1 out of every modulo nodes.</p>
</div></blockquote>
<p><strong>compress_ids: boolean</strong></p>
<blockquote>
<div><p>Reassign ids so that ids are continuous (no missing id numbers).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Morphology</p>
<blockquote class="last">
<div><p>A new morphology instance</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.strip_all_other_types">
<code class="descname">strip_all_other_types</code><span class="sig-paren">(</span><em>node_type</em>, <em>keep_soma=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.strip_all_other_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.strip_all_other_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Strips everything from the morphology except for the
specified type.
Parent and child relationships are updated accordingly, creating
new roots when necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_type: enum</strong></p>
<blockquote>
<div><p>The compartment type to keep in the morphology.
Use one of the following constants: SOMA, AXON, DENDRITE,
BASAL_DENDRITE, or APICAL_DENDRITE</p>
</div></blockquote>
<p><strong>keep_soma: Boolean (optional)</strong></p>
<blockquote class="last">
<div><p>True (default) if soma nodes should remain in the
morpyhology, and False if the soma should also be stripped</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.strip_type">
<code class="descname">strip_type</code><span class="sig-paren">(</span><em>node_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.strip_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.strip_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Strips all compartments of the specified type from the
morphology.
Parent and child relationships are updated accordingly, creating
new roots when necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>node_type: enum</strong></p>
<blockquote class="last">
<div><p>The compartment type to strip from the morphology.
Use one of the following constants: SOMA, AXON, DENDRITE,
BASAL_DENDRITE, or APICAL_DENDRITE</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.stumpify_axon">
<code class="descname">stumpify_axon</code><span class="sig-paren">(</span><em>count=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.stumpify_axon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.stumpify_axon" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all axon compartments except the first &#8216;count&#8217;
nodes, as counted from the connected axon root.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>count: Integer</strong></p>
<blockquote class="last">
<div><p>The length of the axon &#8216;stump&#8217;, in number of compartments</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.tree">
<code class="descname">tree</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all Morphology Nodes within the specified
tree. A tree is defined as a fully connected graph of nodes.
Each tree has exactly one root.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>n: integer</strong></p>
<blockquote>
<div><p>ID of desired tree</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of all morphology objects in the specified tree, or None</p>
<p class="last">if the tree doesn&#8217;t exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.core.swc.Morphology.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#Morphology.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.Morphology.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="allensdk.core.swc.read_marker_file">
<code class="descclassname">allensdk.core.swc.</code><code class="descname">read_marker_file</code><span class="sig-paren">(</span><em>file_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#read_marker_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.read_marker_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read in a marker file and return a list of dictionaries</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.core.swc.read_swc">
<code class="descclassname">allensdk.core.swc.</code><code class="descname">read_swc</code><span class="sig-paren">(</span><em>file_name</em>, <em>columns='NOT_USED'</em>, <em>numeric_columns='NOT_USED'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/core/swc.html#read_swc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.core.swc.read_swc" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in an SWC file and return a Morphology object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>file_name: string</strong></p>
<blockquote>
<div><p>SWC file name.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Morphology</p>
<blockquote class="last">
<div><p>A Morphology instance.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-allensdk.core">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-allensdk.core" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install Guide</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_resources.html">Data Resources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="brain_observatory.html">Brain Observatory</a></li>
<li class="toctree-l2"><a class="reference internal" href="cell_types.html">Cell Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="connectivity.html">Mouse Connectivity</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference_space.html">Reference Space</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_api_client.html">API Access</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="glif_models.html">Generalized LIF</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysical_models.html">Biophysical</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="allensdk.html">Source Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="allensdk.api.html">allensdk.api package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.brain_observatory.html">allensdk.brain_observatory package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.config.html">allensdk.config package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">allensdk.core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.ephys.html">allensdk.ephys package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.model.html">allensdk.model package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.morphology.html">allensdk.morphology package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.test_utilities.html">allensdk.test_utilities package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/AllenInstitute/AllenSDK">Github Profile</a></li>
</ul>

<h3> Questions </h3>
<p class="questions">
  Send any questions using the <a href="http://alleninstitute.org/contact_us/index.html">Send Us a Message</a> link below, 
  or submit your question to <a href="http://stackoverflow.com/">StackOverflow</a> using with the 'allen-sdk' tag.
</p>

<p class="questions">
  If you encounter any problems using the AllenSDK, please create an issue on <a href="http://github.com/alleninstitute/allensdk/issues/">Github's issue tracker</a>.
</p>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


    <div class="footer" role="contentinfo">
    </div>
<script type="text/javascript" src="http://www.brain-map.org/external_assets/javascripts/portalFooter.js"></script>


  </body>
</html>