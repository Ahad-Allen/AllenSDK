<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>allensdk.brain_observatory package &mdash; Allen SDK 0.12.3 documentation</title>
    
    <link rel="stylesheet" href="_static/aibs_sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.12.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Allen SDK 0.12.3 documentation" href="index.html" />
    <link rel="up" title="allensdk package" href="allensdk.html" />
    <link rel="next" title="allensdk.config package" href="allensdk.config.html" />
    <link rel="prev" title="allensdk.api.queries package" href="allensdk.api.queries.html" /> 
  </head>
  <body>
<script type="text/javascript" src="/AllenSDK/_static/external_assets/javascript/portal.js"></script>
<style>

	/* the icon font-family definition and helper classes */
	@font-face {
	  font-family: 'portal_icon_font';
	  src: url('/AllenSDK/_static/external_assets/stylesheets/portal_icon_font.eot?39505677');
	  src: url('/AllenSDK/_static/external_assets/stylesheets/portal_icon_font.eot?39505677#iefix') format('embedded-opentype'),
	       url('/AllenSDK/_static/external_assets/stylesheets/portal_icon_font.woff?39505677') format('woff'),
	       url('/AllenSDK/_static/external_assets/stylesheets/portal_icon_font.ttf?39505677') format('truetype'),
	       url('/AllenSDK/_static/external_assets/stylesheets/portal_icon_font.svg?39505677#portal_icon_font') format('svg');
	  font-weight: normal;
	  font-style: normal;
	}
	 
	 [class^="icon-"]:before, [class*=" icon-"]:before {
	  font-family: "portal_icon_font";
	  font-style: normal;
	  font-weight: normal;
	  speak: none;
	 
	  display: inline-block;
	  text-decoration: inherit;
	  width: 1em;
	  margin-right: .2em;
	  text-align: center;
	  /* opacity: .8; */
	 
	  /* For safety - reset parent styles, that can break glyph codes*/
	  font-variant: normal;
	  text-transform: none;
	     
	  /* fix buttons height, for twitter bootstrap */
	  line-height: 1em;
	 
	  /* Animation center compensation - margins should be symmetric */
	  /* remove if not needed */
	  margin-left: .2em;
	
	}
	 
	.icon-spin5:before { content: '\e806'; } /* '' */
	.icon-left-open-1:before { content: '\e81e'; } /* '' */
	.icon-plus-1:before { content: '\e801'; } /* '' */
	.icon-facebook:before { content: '\e816'; } /* '' */
	.icon-gplus:before { content: '\e818'; } /* '' */
	.icon-linkedin-3:before { content: '\e815'; } /* '' */
	.icon-twitter:before { content: '\e817'; } /* '' */
	.icon-youtube-play:before { content: '\e805'; } /* '' */
	.icon-plus-2:before { content: '\e809'; } /* '' */
	.icon-record-1:before { content: '\e81c'; } /* '' */
	.icon-cancel:before { content: '\e80b'; } /* '' */
	.icon-search:before { content: '\e804'; } /* '' */
	.icon-cancel-2:before { content: '\e80c'; } /* '' */
	.icon-plus-4:before { content: '\e80d'; } /* '' */
	.icon-cancel-3:before { content: '\e80e'; } /* '' */
	.icon-plus:before { content: '\e808'; } /* '' */
	.icon-down-open:before { content: '\e800'; } /* '' */
	.icon-right-open:before { content: '\e802'; } /* '' */
	.icon-up-open:before { content: '\e803'; } /* '' */
	.icon-stop:before { content: '\e813'; } /* '' */
	.icon-cancel-1:before { content: '\e820'; } /* '' */
	.icon-plus-3:before { content: '\e80a'; } /* '' */
	/* end icon font helpers */

	/* icon font spin animation */
	.animate-spin {
	  -moz-animation: spin 2s infinite linear;
	  -o-animation: spin 2s infinite linear;
	  -webkit-animation: spin 2s infinite linear;
	  animation: spin 2s infinite linear;
	  display: inline-block;
	}
	@-moz-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@-webkit-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@-o-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@-ms-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	/*  end spin animation */	

	@font-face {
	    font-family: 'bebas_neueregular';
	    src: url('/AllenSDK/_static/external_assets/stylesheets/bebasneue-webfont.eot');
	    src: url('/AllenSDK/_static/external_assets/stylesheets/bebasneue-webfont.eot?#iefix') format('embedded-opentype'),
	         url('/AllenSDK/_static/external_assets/stylesheets/bebasneue-webfont.woff') format('woff'),
	         url('/AllenSDK/_static/external_assets/stylesheets/bebasneue-webfont.ttf') format('truetype'),
	         url('/AllenSDK/_static/external_assets/stylesheets/bebasneue-webfont.svg#bebas_neueregular') format('svg');
	    font-weight: normal;
	    font-style: normal;
	}

	/* top chrome styles */
	#top_chrome {

		width:100%;
		height:28px;
		background-color:#163E65;
	}

	.chrome_link_block {

		color:#fff !important;	
		display:inline-block;
		height:100%;
		max-height:28px;
	}

	.chrome_link_block:hover {

		background-color:#eee;
		color:#0779BE !important;	
		cursor:pointer;
	}

	#top_chrome a {

		color:inherit !important;	
		text-decoration:none;
	}

	#top_chrome a:hover {

		color:inherit !important;	
	}

	#top_chrome_buttons {

		float:right;
		margin-right:50px;
	}

	.chrome_button {

		font-family:arial,sans-serif;
		font-weight:bold;
		display:inline-block;
		font-size:9px;
		text-align:left;
		text-decoration:none;
		margin:9px 20px 10px 20px;
	}

	.chrome_active {

		background-color:#1b7abd;
		color:#fff;
	}


	/* header element styles*/
	#header_content {

		font-family: bebas_neueregular, arial, sans-serif;
		font-size:22px;
		color:#0779be;		
		letter-spacing:0.03em;

		position:relative;
		width:calc(100% - 112px);
		min-width:800px;
		height:76px;
		border-bottom:2px solid #A5A8AB;
		margin-left:50px;
		margin-right:50px;
        z-index:9999; /* IT-9508 */
	}

	#portal_logo {

		position:absolute;
		top:20px;
		left:0px;
		width:236px;
	}

	#portal_tabs {

		position: absolute;
		bottom: 12px;
		left: 0px;
		margin-bottom: -12px;
		display: block;
	}

	.horizontal_list
	{
		margin: 0;
		padding: 0;
		list-style-type: none;
		display: inline; 		
	}

	.horizontal_list li { 

		display: inline; 	
	}	

	#portal_tab_menu_container {

		display:none;
	}

	#portal_search_input_group {

		position:absolute;
		margin: 0;
		padding: 0;
		bottom:12px;
		right:0px;
		border:1px solid #DAD9D3;
		color:#DAD9D3;
	}

	#portal_search_input_group input {

		margin: 0;
		padding: 0;
		border:none;
		width:110px;
		color:#DAD9D3;
		font-family:Helvetica,sans-serif;
		font-size:12px;
		height:28px;
		margin-left:10px;

		outline:none;
	}

	input::-ms-clear {
		display: none;
	}

	#portal_search_input_group i {

		font-size:0.8em;
		cursor:pointer;
	}

	#pSiteSearchTextInput:focus {

		color:#000;
	}

	.icon_menu_down {

		font-size: 12px;
		margin-left: 4px;
		vertical-align: text-top;
		padding-top: 4px;
		display: inline-block;
	}

	.portal_tab_item {

		background-color: #fff;
		padding: 12px;
		padding-left:20px;
		padding-right:20px;
		display: inline-block !important;		
	}

	.portal_tab_item a:hover {

		color:#fbe300;	
	}

	.portal_tab_item:hover {

		background-color: #0779be;	
		color:#fbe300 !important;	
	}	


	.portal_menu_active {

		background-color: #EEEEEE;
	}	

	.portal_menu_item_active {

		color:#fbe300 !important;	
	}

	.portal_tab_active {

		color:#a5a8ab !important;
	}

	#header_content a {		

		color:inherit !important;
	}

	#header_content a:hover {

		background-color: #0779be;	
		color:#fbe300 !important;	
	}

	#header_content ul {

		list-style: none;
		position: relative;
		top: 58px;
		display: inline-table;
	}

	#header_content ul ul {
		
		display:none;
		opacity:0;
	}

	/* the fly out menus */
	#header_content ul li:hover > ul,
	#header_content ul li.hover > ul {

		position: absolute;
		top: 48px;
		z-index:999;

		display: block;
		width: 152px;
		padding:0px;
		padding-top:20px;
		padding-bottom:10px;
		font-size: 12px;
		font-family: Arial,Sans-Serif;
		font-weight: bold;
		text-transform: uppercase;

		background-color: rgba(8,122,191,0.98);
		color: #fff !important;
		opacity: 1;

		-webkit-animation: fade 0.25s;
		animation: fade 0.25s;
	}

	@-webkit-keyframes fade {
	    from {opacity: 0}
	    to {opacity: 1}
	}
	@keyframes fade {
	    from {opacity: 0}
	    to {opacity: 1}
	}	

	#header_content ul li:hover > ul li {

		padding: 10px;
		padding-top: 0px;
		padding-left: 20px;
		display: block;
		opacity:1;
	}

	#header_content ul li:hover > ul a {

		display: block;
		opacity:1;
		white-space:nowrap;
	}

	#portal_menu_start_list {

		left: 81px;

		/* IE sauce */
		left:85px\9;

		/* Safari sauce */
		(;left:79px;);
	}

	#portal_menu_atlases_list {

		left: 290px;
		width: 210px !important;
        height: 236px;

		padding-bottom:5px !important;

		/* IE sauce */
		left: 303px\9;
        height: 225px\9;

		/* Safari sauce */
		(;left:279px;);
	}

	#portal_menu_tools_list {

		left: 500px;
		width: 172px !important;
		height: 236px;

		padding-bottom:5px !important;

		/* IE sauce */
		left: 513px\9;
		height:225px\9;

		/* Safari sauce */
		(;left:489px;);
		(;height:227px;);
	}

	/* mozilla sauce */
	@-moz-document url-prefix() {

		#header_content {

			height:107px;
		}

		#portal_menu_start_list {

			left:85px;
		}

		#portal_menu_atlases_list {

			left: 302px;		
		}

		#portal_menu_tools_list {

			left: 512px;
			height:236px;
		}
	}


	/* make it look OK on iPad also */
	@media all and (device-width: 768px) and (device-height: 1024px) and (orientation:portrait) {

		#portal_menu_start_list {

			left:81px;
		}

		#portal_menu_atlases_list {

			left: 291px;		
		}

		#portal_menu_tools_list {

			left: 501px;
			height:236px;
		}  
	}
	@media all and (device-width: 768px) and (device-height: 1024px) and (orientation:landscape) {

		#portal_menu_start_list {

			left:81px;
		}

		#portal_menu_atlases_list {

			left: 291px;		
		}

		#portal_menu_tools_list {

			left: 501px;
			height:236px;
		}	  
	}

	.portal_menu_list_heading {

		color:#9ccae5;
		border-bottom:1px solid #9ccae5;
		padding-bottom:5px !important;
	}

	.portal_menu_list_heading + li {

		padding-top:10px !important;
	}

	.portal_menu_list_heading li {

		padding-bottom:0px;
	}	

	#portal_menu_atlases_list li:last-of-type {

		padding-bottom:15px !important;
	}

	.icon-spin5 {

		color:#000;
	}
</style>
<div id="pHeader">
<div id="top_chrome">
	<div id="top_chrome_buttons">
		<div class="chrome_link_block"><a href="http://www.alleninstitute.org" target="_blank" class="chrome_button">ALLEN INSTITUTE</a></div>
		<div class="chrome_link_block chrome_active"><a href="http://www.brain-map.org" class="chrome_button">BRAIN ATLAS</a></div>
	</div>
</div>

<div id="header_content">

	<a href="http://AllenInstitute.github.io/AllenSDK">
		<img id="portal_logo" style="border:0;" src="/AllenSDK/_static/external_assets/images/Brain_Atlas_Logotype_SDK.png"/>
	</a>
</div>
</div>

<script>

jQuery('#portal_tab_menu').bind('touchstart', function() {

	if(window.console)
		console.log("touchstart");
});
</script>
<link rel="stylesheet" type="text/css" href="/AllenSDK/_static/external_assets/stylesheets/common_layout.css" />


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="allensdk-brain-observatory-package">
<h1>allensdk.brain_observatory package<a class="headerlink" href="#allensdk-brain-observatory-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-allensdk.brain_observatory.brain_observatory_exceptions">
<span id="allensdk-brain-observatory-brain-observatory-exceptions-module"></span><h2>allensdk.brain_observatory.brain_observatory_exceptions module<a class="headerlink" href="#module-allensdk.brain_observatory.brain_observatory_exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="allensdk.brain_observatory.brain_observatory_exceptions.BrainObservatoryAnalysisException">
<em class="property">exception </em><tt class="descclassname">allensdk.brain_observatory.brain_observatory_exceptions.</tt><tt class="descname">BrainObservatoryAnalysisException</tt><a class="reference internal" href="_modules/allensdk/brain_observatory/brain_observatory_exceptions.html#BrainObservatoryAnalysisException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.brain_observatory_exceptions.BrainObservatoryAnalysisException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.brain_observatory_plotting">
<span id="allensdk-brain-observatory-brain-observatory-plotting-module"></span><h2>allensdk.brain_observatory.brain_observatory_plotting module<a class="headerlink" href="#module-allensdk.brain_observatory.brain_observatory_plotting" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="allensdk.brain_observatory.brain_observatory_plotting.plot_drifting_grating_traces">
<tt class="descclassname">allensdk.brain_observatory.brain_observatory_plotting.</tt><tt class="descname">plot_drifting_grating_traces</tt><big>(</big><em>dg</em>, <em>save_dir</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/brain_observatory_plotting.html#plot_drifting_grating_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.brain_observatory_plotting.plot_drifting_grating_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>saves figures with a Ori X TF grid of mean resposes</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.brain_observatory_plotting.plot_lsn_traces">
<tt class="descclassname">allensdk.brain_observatory.brain_observatory_plotting.</tt><tt class="descname">plot_lsn_traces</tt><big>(</big><em>lsn</em>, <em>save_dir</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/brain_observatory_plotting.html#plot_lsn_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.brain_observatory_plotting.plot_lsn_traces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.brain_observatory_plotting.plot_ns_traces">
<tt class="descclassname">allensdk.brain_observatory.brain_observatory_plotting.</tt><tt class="descname">plot_ns_traces</tt><big>(</big><em>nsa</em>, <em>save_dir</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/brain_observatory_plotting.html#plot_ns_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.brain_observatory_plotting.plot_ns_traces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.brain_observatory_plotting.plot_running_a">
<tt class="descclassname">allensdk.brain_observatory.brain_observatory_plotting.</tt><tt class="descname">plot_running_a</tt><big>(</big><em>dg</em>, <em>nm1</em>, <em>nm3</em>, <em>save_dir</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/brain_observatory_plotting.html#plot_running_a"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.brain_observatory_plotting.plot_running_a" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.brain_observatory_plotting.plot_sg_traces">
<tt class="descclassname">allensdk.brain_observatory.brain_observatory_plotting.</tt><tt class="descname">plot_sg_traces</tt><big>(</big><em>sg</em>, <em>save_dir</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/brain_observatory_plotting.html#plot_sg_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.brain_observatory_plotting.plot_sg_traces" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.dff">
<span id="allensdk-brain-observatory-dff-module"></span><h2>allensdk.brain_observatory.dff module<a class="headerlink" href="#module-allensdk.brain_observatory.dff" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="allensdk.brain_observatory.dff.compute_dff">
<tt class="descclassname">allensdk.brain_observatory.dff.</tt><tt class="descname">compute_dff</tt><big>(</big><em>traces</em>, <em>save_plot_dir=None</em>, <em>mode_kernelsize=5400</em>, <em>mean_kernelsize=3000</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/dff.html#compute_dff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.dff.compute_dff" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute dF/F of a set of traces using a low-pass windowed-mode operator.
The operation is basically:</p>
<blockquote>
<div><p>T_mm = windowed_mean(windowed_mode(T))</p>
<p>T_dff = (T - T_mm) / T_mm</p>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>traces: np.ndarray</strong></p>
<blockquote>
<div><p>2D array of traces to be analyzed</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">np.ndarray with the same shape as the input array.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.dff.main">
<tt class="descclassname">allensdk.brain_observatory.dff.</tt><tt class="descname">main</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/dff.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.dff.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.dff.movingaverage">
<tt class="descclassname">allensdk.brain_observatory.dff.</tt><tt class="descname">movingaverage</tt><big>(</big><em>x</em>, <em>kernelsize</em>, <em>y</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/dff.html#movingaverage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.dff.movingaverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the windowed average of an array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x: np.ndarray</strong></p>
<blockquote>
<div><p>Array to be analyzed</p>
</div></blockquote>
<p><strong>kernelsize: int</strong></p>
<blockquote>
<div><p>Size of the moving window</p>
</div></blockquote>
<p><strong>y: np.ndarray</strong></p>
<blockquote class="last">
<div><p>Output array to store the results</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.dff.movingmode_fast">
<tt class="descclassname">allensdk.brain_observatory.dff.</tt><tt class="descname">movingmode_fast</tt><big>(</big><em>x</em>, <em>kernelsize</em>, <em>y</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/dff.html#movingmode_fast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.dff.movingmode_fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the windowed mode of an array.  A running mode is initialized
with a histogram of values over the initial kernelsize/2 values.  The mode
is then updated as the kernel moves by adding and subtracting values from
the histogram.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x: np.ndarray</strong></p>
<blockquote>
<div><p>Array to be analyzed</p>
</div></blockquote>
<p><strong>kernelsize: int</strong></p>
<blockquote>
<div><p>Size of the moving window</p>
</div></blockquote>
<p><strong>y: np.ndarray</strong></p>
<blockquote class="last">
<div><p>Output array to store the results</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.dff.plot_onetrace">
<tt class="descclassname">allensdk.brain_observatory.dff.</tt><tt class="descname">plot_onetrace</tt><big>(</big><em>dff</em>, <em>fc</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/dff.html#plot_onetrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.dff.plot_onetrace" title="Permalink to this definition">¶</a></dt>
<dd><p>Debug plotting function</p>
</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.drifting_gratings">
<span id="allensdk-brain-observatory-drifting-gratings-module"></span><h2>allensdk.brain_observatory.drifting_gratings module<a class="headerlink" href="#module-allensdk.brain_observatory.drifting_gratings" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.brain_observatory.drifting_gratings.DriftingGratings">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.drifting_gratings.</tt><tt class="descname">DriftingGratings</tt><big>(</big><em>data_set</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/drifting_gratings.html#DriftingGratings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.drifting_gratings.DriftingGratings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis" title="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis"><tt class="xref py py-class docutils literal"><span class="pre">allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis</span></tt></a></p>
<p>Perform tuning analysis specific to drifting gratings stimulus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_set: BrainObservatoryNwbDataSet object</strong></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allensdk.brain_observatory.drifting_gratings.DriftingGratings.get_peak">
<tt class="descname">get_peak</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/drifting_gratings.html#DriftingGratings.get_peak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.drifting_gratings.DriftingGratings.get_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes metrics related to each cell&#8217;s peak response condition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Pandas data frame containing the following columns (_dg suffix is</p>
<p>for drifting grating):</p>
<blockquote class="last">
<div><ul class="simple">
<li>ori_dg (orientation)</li>
<li>tf_dg (temporal frequency)</li>
<li>response_reliability_dg</li>
<li>osi_dg (orientation selectivity index)</li>
<li>dsi_dg (direction selectivity index)</li>
<li>peak_dff_dg (peak dF/F)</li>
<li>ptest_dg</li>
<li>p_run_dg</li>
<li>run_modulation_dg</li>
<li>cv_dg (circular variance)</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.drifting_gratings.DriftingGratings.get_response">
<tt class="descname">get_response</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/drifting_gratings.html#DriftingGratings.get_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.drifting_gratings.DriftingGratings.get_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the mean response for each cell to each stimulus condition.  Return is
a (# orientations, # temporal frequencies, # cells, 3) np.ndarray.  The final dimension
contains the mean response to the condition (index 0), standard error of the mean of the response
to the condition (index 1), and the number of trials with a significant response (p &lt; 0.05)
to that condition (index 2).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numpy array storing mean responses.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.findlevel">
<span id="allensdk-brain-observatory-findlevel-module"></span><h2>allensdk.brain_observatory.findlevel module<a class="headerlink" href="#module-allensdk.brain_observatory.findlevel" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="allensdk.brain_observatory.findlevel.findlevel">
<tt class="descclassname">allensdk.brain_observatory.findlevel.</tt><tt class="descname">findlevel</tt><big>(</big><em>inwave</em>, <em>threshold</em>, <em>direction='both'</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/findlevel.html#findlevel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.findlevel.findlevel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.locally_sparse_noise">
<span id="allensdk-brain-observatory-locally-sparse-noise-module"></span><h2>allensdk.brain_observatory.locally_sparse_noise module<a class="headerlink" href="#module-allensdk.brain_observatory.locally_sparse_noise" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.locally_sparse_noise.</tt><tt class="descname">LocallySparseNoise</tt><big>(</big><em>data_set</em>, <em>nrows=None</em>, <em>ncols=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/locally_sparse_noise.html#LocallySparseNoise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis" title="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis"><tt class="xref py py-class docutils literal"><span class="pre">allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis</span></tt></a></p>
<p>Perform tuning analysis specific to the locally sparse noise stimulus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_set: BrainObservatoryNwbDataSet object</strong></p>
<p><strong>nrows: int</strong></p>
<blockquote>
<div><p>Number of rows in the stimulus template</p>
</div></blockquote>
<p><strong>ncol: int</strong></p>
<blockquote class="last">
<div><p>Number of columns in the stimulus template</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.LSN_GREY">
<tt class="descname">LSN_GREY</tt><em class="property"> = 127</em><a class="headerlink" href="#allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.LSN_GREY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.LSN_OFF">
<tt class="descname">LSN_OFF</tt><em class="property"> = 0</em><a class="headerlink" href="#allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.LSN_OFF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.LSN_OFF_SCREEN">
<tt class="descname">LSN_OFF_SCREEN</tt><em class="property"> = 64</em><a class="headerlink" href="#allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.LSN_OFF_SCREEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.LSN_ON">
<tt class="descname">LSN_ON</tt><em class="property"> = 255</em><a class="headerlink" href="#allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.LSN_ON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.get_receptive_field">
<tt class="descname">get_receptive_field</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/locally_sparse_noise.html#LocallySparseNoise.get_receptive_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.locally_sparse_noise.LocallySparseNoise.get_receptive_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates receptive fields for each cell</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.natural_movie">
<span id="allensdk-brain-observatory-natural-movie-module"></span><h2>allensdk.brain_observatory.natural_movie module<a class="headerlink" href="#module-allensdk.brain_observatory.natural_movie" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.brain_observatory.natural_movie.NaturalMovie">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.natural_movie.</tt><tt class="descname">NaturalMovie</tt><big>(</big><em>data_set</em>, <em>movie_name</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/natural_movie.html#NaturalMovie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.natural_movie.NaturalMovie" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis" title="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis"><tt class="xref py py-class docutils literal"><span class="pre">allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis</span></tt></a></p>
<p>Perform tuning analysis specific to natural movie stimulus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_set: BrainObservatoryNwbDataSet object</strong></p>
<p><strong>movie_name: string</strong></p>
<blockquote class="last">
<div><dl class="docutils">
<dt>one of [ stimulus_info.NATURAL_MOVIE_ONE, stimulus_info.NATURAL_MOVIE_TWO,</dt>
<dd><p class="first last">stimulus_info.NATURAL_MOVIE_THREE ]</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allensdk.brain_observatory.natural_movie.NaturalMovie.get_peak">
<tt class="descname">get_peak</tt><big>(</big><em>movie_name</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/natural_movie.html#NaturalMovie.get_peak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.natural_movie.NaturalMovie.get_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes properties of the peak response condition for each cell.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>movie_name: string</strong></p>
<blockquote>
<div><p>one of [ stimulus_info.NATURAL_MOVIE_ONE, stimulus_info.NATURAL_MOVIE_TWO, stimulus_info.NATURAL_MOVIE_THREE ]</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Pandas data frame with the below fields. A suffix of &#8220;nm1&#8221;, &#8220;nm2&#8221; or &#8220;nm3&#8221; is appended to the field name depending</p>
<p>on which of three movie clips was presented.</p>
<blockquote class="last">
<div><ul class="simple">
<li>peak_nm1 (frame with peak response)</li>
<li>response_variability_nm1</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.natural_movie.NaturalMovie.get_sweep_response">
<tt class="descname">get_sweep_response</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/natural_movie.html#NaturalMovie.get_sweep_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.natural_movie.NaturalMovie.get_sweep_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dF/F response for each cell</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numpy array</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.natural_scenes">
<span id="allensdk-brain-observatory-natural-scenes-module"></span><h2>allensdk.brain_observatory.natural_scenes module<a class="headerlink" href="#module-allensdk.brain_observatory.natural_scenes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.brain_observatory.natural_scenes.NaturalScenes">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.natural_scenes.</tt><tt class="descname">NaturalScenes</tt><big>(</big><em>data_set</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/natural_scenes.html#NaturalScenes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.natural_scenes.NaturalScenes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis" title="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis"><tt class="xref py py-class docutils literal"><span class="pre">allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis</span></tt></a></p>
<p>Perform tuning analysis specific to natural scenes stimulus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_set: BrainObservatoryNwbDataSet object</strong></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allensdk.brain_observatory.natural_scenes.NaturalScenes.get_peak">
<tt class="descname">get_peak</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/natural_scenes.html#NaturalScenes.get_peak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.natural_scenes.NaturalScenes.get_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes metrics about peak response condition for each cell.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Pandas data frame with the following fields (&#8216;_ns&#8217; suffix is for</p>
<p>natural scene):</p>
<blockquote class="last">
<div><ul class="simple">
<li>scene_ns (scene number)</li>
<li>response_reliability_ns</li>
<li>peak_dff_ns (peak dF/F)</li>
<li>ptest_ns</li>
<li>p_run_ns</li>
<li>run_modulation_ns</li>
<li>time_to_peak_ns</li>
<li>duration_ns</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.natural_scenes.NaturalScenes.get_response">
<tt class="descname">get_response</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/natural_scenes.html#NaturalScenes.get_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.natural_scenes.NaturalScenes.get_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the mean response for each cell to each stimulus condition.  Return is
a (# scenes, # cells, 3) np.ndarray.  The final dimension
contains the mean response to the condition (index 0), standard error of the mean of the response
to the condition (index 1), and the number of trials with a significant (p &lt; 0.05) response 
to that condition (index 2).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numpy array storing mean responses.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.r_neuropil">
<span id="allensdk-brain-observatory-r-neuropil-module"></span><h2>allensdk.brain_observatory.r_neuropil module<a class="headerlink" href="#module-allensdk.brain_observatory.r_neuropil" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.brain_observatory.r_neuropil.NeuropilSubtract">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">NeuropilSubtract</tt><big>(</big><em>lam=0.05</em>, <em>dt=1.0</em>, <em>folds=4</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#NeuropilSubtract"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.NeuropilSubtract" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>TODO: docs</p>
<dl class="method">
<dt id="allensdk.brain_observatory.r_neuropil.NeuropilSubtract.estimate_error">
<tt class="descname">estimate_error</tt><big>(</big><em>r</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#NeuropilSubtract.estimate_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.NeuropilSubtract.estimate_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate error values for a given r for each fold and return the mean.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.r_neuropil.NeuropilSubtract.fit">
<tt class="descname">fit</tt><big>(</big><em>r_range=[0.0, 2.0], iterations=3, dr=0.1, dr_factor=0.1</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#NeuropilSubtract.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.NeuropilSubtract.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimate error values for a range of r values.  Identify a new r range
around the minimum error values and repeat multiple times.
TODO: docs</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.r_neuropil.NeuropilSubtract.fit_block_coordinate_desc">
<tt class="descname">fit_block_coordinate_desc</tt><big>(</big><em>r_init=5.0</em>, <em>min_delta_r=1e-08</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#NeuropilSubtract.fit_block_coordinate_desc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.NeuropilSubtract.fit_block_coordinate_desc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.r_neuropil.NeuropilSubtract.set_F">
<tt class="descname">set_F</tt><big>(</big><em>F_M</em>, <em>F_N</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#NeuropilSubtract.set_F"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.NeuropilSubtract.set_F" title="Permalink to this definition">¶</a></dt>
<dd><p>Break the F_M and F_N traces into the number of folds specified
in the class constructor and normalize each fold of F_M and R_N relative to F_N.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.ab_from_T">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">ab_from_T</tt><big>(</big><em>T</em>, <em>lam</em>, <em>dt</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#ab_from_T"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.ab_from_T" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.ab_from_diagonals">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">ab_from_diagonals</tt><big>(</big><em>mat_dict</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#ab_from_diagonals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.ab_from_diagonals" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs value for scipy.linalg.solve_banded</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mat_dict: dictionary of diagonals keyed by offsets</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">ab: value for scipy.linalg.solve_banded</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.alpha_filter">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">alpha_filter</tt><big>(</big><em>A=1.0</em>, <em>alpha=0.05</em>, <em>beta=0.25</em>, <em>T=100</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#alpha_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.alpha_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.error_calc">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">error_calc</tt><big>(</big><em>F_M</em>, <em>F_N</em>, <em>F_C</em>, <em>r</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#error_calc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.error_calc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.error_calc_outlier">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">error_calc_outlier</tt><big>(</big><em>F_M</em>, <em>F_N</em>, <em>F_C</em>, <em>r</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#error_calc_outlier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.error_calc_outlier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.estimate_contamination_ratios">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">estimate_contamination_ratios</tt><big>(</big><em>F_M, F_N, lam=0.05, folds=4, iterations=3, r_range=[0.0, 2.0], dr=0.1, dr_factor=0.1</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#estimate_contamination_ratios"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.estimate_contamination_ratios" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates neuropil contamination of ROI</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>F_M: ROI trace</strong></p>
<blockquote>
<div><p>F_N: Neuropil trace</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dictionary: key-value pairs</p>
<blockquote class="last">
<div><ul class="simple">
<li>&#8216;r&#8217;: the contamination ratio &#8211; corrected trace = M - r*N</li>
<li>&#8216;err&#8217;: RMS error</li>
<li>&#8216;min_error&#8217;: minimum error</li>
<li>&#8216;bounds_error&#8217;: boolean. True if error or R are outside tolerance</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.get_diagonals_from_sparse">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">get_diagonals_from_sparse</tt><big>(</big><em>mat</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#get_diagonals_from_sparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.get_diagonals_from_sparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of diagonals keyed by offsets</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mat: scipy.sparse matrix</strong></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dictionary: diagonals keyed by offsets</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.normalize_F">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">normalize_F</tt><big>(</big><em>F_M</em>, <em>F_N</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#normalize_F"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.normalize_F" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.synthesize_F">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">synthesize_F</tt><big>(</big><em>T</em>, <em>af1</em>, <em>af2</em>, <em>p1=0.05</em>, <em>p2=0.1</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#synthesize_F"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.synthesize_F" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a synthetic F_C, F_M, F_N, and r of length T
TODO: docs</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.r_neuropil.validate_with_synthetic_F">
<tt class="descclassname">allensdk.brain_observatory.r_neuropil.</tt><tt class="descname">validate_with_synthetic_F</tt><big>(</big><em>T</em>, <em>N</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/r_neuropil.html#validate_with_synthetic_F"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.r_neuropil.validate_with_synthetic_F" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute N synthetic traces of length T with known values of r, then estimate r.
TODO: docs</p>
</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.roi_masks">
<span id="allensdk-brain-observatory-roi-masks-module"></span><h2>allensdk.brain_observatory.roi_masks module<a class="headerlink" href="#module-allensdk.brain_observatory.roi_masks" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.brain_observatory.roi_masks.Mask">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.roi_masks.</tt><tt class="descname">Mask</tt><big>(</big><em>image_w</em>, <em>image_h</em>, <em>label</em>, <em>mask_group</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#Mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.Mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Abstract class to represent image segmentation mask. Its two
main subclasses are RoiMask and NeuropilMask. The former represents
the mask of a region of interest (ROI), such as a cell observed in
2-photon imaging. The latter represents the neuropil around that cell,
and is useful when subtracting the neuropil signal from the measured
ROI signal.</p>
<p>This class should not be instantiated directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>image_w: integer</strong></p>
<blockquote>
<div><p>Width of image that ROI resides in</p>
</div></blockquote>
<p><strong>image_h: integer</strong></p>
<blockquote>
<div><p>Height of image that ROI resides in</p>
</div></blockquote>
<p><strong>label: text</strong></p>
<blockquote>
<div><p>User-defined text label to identify mask</p>
</div></blockquote>
<p><strong>mask_group: integer</strong></p>
<blockquote class="last">
<div><p>User-defined number to help put masks into different categories</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allensdk.brain_observatory.roi_masks.Mask.get_mask_plane">
<tt class="descname">get_mask_plane</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#Mask.get_mask_plane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.Mask.get_mask_plane" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns mask content on full-size image plane</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">numpy 2D array [img_rows][img_cols]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.roi_masks.Mask.init_by_pixels">
<tt class="descname">init_by_pixels</tt><big>(</big><em>border</em>, <em>pix_list</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#Mask.init_by_pixels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.Mask.init_by_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize mask using a list of mask pixels</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>border: float[4]</strong></p>
<blockquote>
<div><p>Coordinates defining useable area of image. See create_roi_mask()</p>
</div></blockquote>
<p><strong>pix_list: integer[][2]</strong></p>
<blockquote class="last">
<div><p>List of pixel coordinates (x,y) that define the mask</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="allensdk.brain_observatory.roi_masks.NeuropilMask">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.roi_masks.</tt><tt class="descname">NeuropilMask</tt><big>(</big><em>w</em>, <em>h</em>, <em>label</em>, <em>mask_group</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#NeuropilMask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.NeuropilMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allensdk.brain_observatory.roi_masks.Mask" title="allensdk.brain_observatory.roi_masks.Mask"><tt class="xref py py-class docutils literal"><span class="pre">allensdk.brain_observatory.roi_masks.Mask</span></tt></a></p>
<dl class="method">
<dt id="allensdk.brain_observatory.roi_masks.NeuropilMask.init_by_mask">
<tt class="descname">init_by_mask</tt><big>(</big><em>border</em>, <em>array</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#NeuropilMask.init_by_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.NeuropilMask.init_by_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize mask using spatial mask</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>border: float[4]</strong></p>
<blockquote>
<div><p>Coordinates defining useable area of image. See create_roi_mask().</p>
</div></blockquote>
<p><strong>array: integer[image height][image width]</strong></p>
<blockquote class="last">
<div><p>Image-sized array that describes the mask. Active parts of the
mask should have values &gt;0. Background pixels must be zero</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="allensdk.brain_observatory.roi_masks.RoiMask">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.roi_masks.</tt><tt class="descname">RoiMask</tt><big>(</big><em>image_w</em>, <em>image_h</em>, <em>label</em>, <em>mask_group</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#RoiMask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.RoiMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allensdk.brain_observatory.roi_masks.Mask" title="allensdk.brain_observatory.roi_masks.Mask"><tt class="xref py py-class docutils literal"><span class="pre">allensdk.brain_observatory.roi_masks.Mask</span></tt></a></p>
<dl class="method">
<dt id="allensdk.brain_observatory.roi_masks.RoiMask.init_by_mask">
<tt class="descname">init_by_mask</tt><big>(</big><em>border</em>, <em>array</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#RoiMask.init_by_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.RoiMask.init_by_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize mask using spatial mask</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>border: float[4]</strong></p>
<blockquote>
<div><p>Coordinates defining useable area of image. See create_roi_mask().</p>
</div></blockquote>
<p><strong>roi_mask: integer[image height][image width]</strong></p>
<blockquote class="last">
<div><p>Image-sized array that describes the mask. Active parts of the
mask should have values &gt;0. Background pixels must be zero</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.roi_masks.calculate_traces">
<tt class="descclassname">allensdk.brain_observatory.roi_masks.</tt><tt class="descname">calculate_traces</tt><big>(</big><em>stack</em>, <em>mask_list</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#calculate_traces"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.calculate_traces" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the average response of the specified masks in the
image stack</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stack: float[image height][image width]</strong></p>
<blockquote>
<div><p>Image stack that masks are applied to</p>
</div></blockquote>
<p><strong>mask_list: list&lt;Mask&gt;</strong></p>
<blockquote>
<div><p>List of masks</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float[number masks][number frames]</p>
<blockquote class="last">
<div><p>This is the average response for each Mask in each image frame</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.roi_masks.create_neuropil_mask">
<tt class="descclassname">allensdk.brain_observatory.roi_masks.</tt><tt class="descname">create_neuropil_mask</tt><big>(</big><em>roi</em>, <em>border</em>, <em>combined_binary_mask</em>, <em>label=None</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#create_neuropil_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.create_neuropil_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Conveninece function to create and initializes a Neuropil mask.
Neuropil masks are defined as the region around an ROI, up to 13
pixels out, that does not include other ROIs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>roi: RoiMask object</strong></p>
<blockquote>
<div><p>The ROI that the neuropil masks will be based on</p>
</div></blockquote>
<p><strong>border: float[4]</strong></p>
<blockquote>
<div><p>Coordinates defining useable area of image. See create_roi_mask().</p>
</div></blockquote>
<p><strong>combined_binary_mask</strong></p>
<blockquote>
<div><p>List of pixel coordinates (x,y) that define the mask</p>
</div></blockquote>
<p><strong>combined_binary_mask: integer[image_h][image_w]</strong></p>
<blockquote>
<div><p>Image-sized array that shows the position of all ROIs in the
image. ROI masks should have a value of one. Background pixels
must be zero. In other words, ithe combined_binary_mask is a
bitmap union of all ROI masks</p>
</div></blockquote>
<p><strong>label: text</strong></p>
<blockquote>
<div><p>User-defined text label to identify the mask</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">NeuropilMask object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.roi_masks.create_roi_mask">
<tt class="descclassname">allensdk.brain_observatory.roi_masks.</tt><tt class="descname">create_roi_mask</tt><big>(</big><em>image_w</em>, <em>image_h</em>, <em>border</em>, <em>pix_list=None</em>, <em>roi_mask=None</em>, <em>label=None</em>, <em>mask_group=-1</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/roi_masks.html#create_roi_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.roi_masks.create_roi_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Conveninece function to create and initializes an RoiMask</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>image_w: integer</strong></p>
<blockquote>
<div><p>Width of image that ROI resides in</p>
</div></blockquote>
<p><strong>image_h: integer</strong></p>
<blockquote>
<div><p>Height of image that ROI resides in</p>
</div></blockquote>
<p><strong>border: float[4]</strong></p>
<blockquote>
<div><p>Coordinates defining useable area of image. If the entire image
is usable, and masks are valid anywhere in the image, this should
be [(image_w-1), 0, (image_h-1), 0]. The following constants
help describe the array order:</p>
<blockquote>
<div><p>RIGHT_SHIFT = 0</p>
<p>LEFT_SHIFT = 1</p>
<p>DOWN_SHIFT = 2</p>
<p>UP_SHIFT = 3</p>
</div></blockquote>
<p>When parts of the image are unusable, for example due motion
correction shifting of different image frames, the border array
should store the usable image area</p>
</div></blockquote>
<p><strong>pix_list: integer[][2]</strong></p>
<blockquote>
<div><p>List of pixel coordinates (x,y) that define the mask</p>
</div></blockquote>
<p><strong>roi_mask: integer[image_h][image_w]</strong></p>
<blockquote>
<div><p>Image-sized array that describes the mask. Active parts of the
mask should have values &gt;0. Background pixels must be zero</p>
</div></blockquote>
<p><strong>label: text</strong></p>
<blockquote>
<div><p>User-defined text label to identify mask</p>
</div></blockquote>
<p><strong>mask_group: integer</strong></p>
<blockquote>
<div><p>User-defined number to help put masks into different categories</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">RoiMask object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.session_analysis">
<span id="allensdk-brain-observatory-session-analysis-module"></span><h2>allensdk.brain_observatory.session_analysis module<a class="headerlink" href="#module-allensdk.brain_observatory.session_analysis" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.session_analysis.</tt><tt class="descname">SessionAnalysis</tt><big>(</big><em>nwb_path</em>, <em>save_path</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.append_metadata">
<tt class="descname">append_metadata</tt><big>(</big><em>df</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.append_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.append_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.append_metrics_drifting_grating">
<tt class="descname">append_metrics_drifting_grating</tt><big>(</big><em>metrics</em>, <em>dg</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.append_metrics_drifting_grating"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.append_metrics_drifting_grating" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.append_metrics_natural_scene">
<tt class="descname">append_metrics_natural_scene</tt><big>(</big><em>metrics</em>, <em>ns</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.append_metrics_natural_scene"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.append_metrics_natural_scene" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.append_metrics_static_grating">
<tt class="descname">append_metrics_static_grating</tt><big>(</big><em>metrics</em>, <em>sg</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.append_metrics_static_grating"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.append_metrics_static_grating" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.save_session_a">
<tt class="descname">save_session_a</tt><big>(</big><em>dg</em>, <em>nm1</em>, <em>nm3</em>, <em>peak</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.save_session_a"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.save_session_a" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.save_session_b">
<tt class="descname">save_session_b</tt><big>(</big><em>sg</em>, <em>nm1</em>, <em>ns</em>, <em>peak</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.save_session_b"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.save_session_b" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.save_session_c">
<tt class="descname">save_session_c</tt><big>(</big><em>lsn</em>, <em>nm1</em>, <em>nm2</em>, <em>peak</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.save_session_c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.save_session_c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.session_a">
<tt class="descname">session_a</tt><big>(</big><em>plot_flag=False</em>, <em>save_flag=True</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.session_a"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.session_a" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.session_b">
<tt class="descname">session_b</tt><big>(</big><em>plot_flag=False</em>, <em>save_flag=True</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.session_b"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.session_b" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.session_c">
<tt class="descname">session_c</tt><big>(</big><em>plot_flag=False</em>, <em>save_flag=True</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.session_c"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.session_c" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.session_analysis.SessionAnalysis.verify_roi_lists_equal">
<tt class="descname">verify_roi_lists_equal</tt><big>(</big><em>roi1</em>, <em>roi2</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#SessionAnalysis.verify_roi_lists_equal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.SessionAnalysis.verify_roi_lists_equal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.session_analysis.main">
<tt class="descclassname">allensdk.brain_observatory.session_analysis.</tt><tt class="descname">main</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.session_analysis.multi_dataframe_merge">
<tt class="descclassname">allensdk.brain_observatory.session_analysis.</tt><tt class="descname">multi_dataframe_merge</tt><big>(</big><em>dfs</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#multi_dataframe_merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.multi_dataframe_merge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.session_analysis.run_session_analysis">
<tt class="descclassname">allensdk.brain_observatory.session_analysis.</tt><tt class="descname">run_session_analysis</tt><big>(</big><em>nwb_path</em>, <em>save_path</em>, <em>plot_flag=False</em>, <em>save_flag=True</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/session_analysis.html#run_session_analysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.session_analysis.run_session_analysis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.static_gratings">
<span id="allensdk-brain-observatory-static-gratings-module"></span><h2>allensdk.brain_observatory.static_gratings module<a class="headerlink" href="#module-allensdk.brain_observatory.static_gratings" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.brain_observatory.static_gratings.StaticGratings">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.static_gratings.</tt><tt class="descname">StaticGratings</tt><big>(</big><em>data_set</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/static_gratings.html#StaticGratings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.static_gratings.StaticGratings" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis" title="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis"><tt class="xref py py-class docutils literal"><span class="pre">allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis</span></tt></a></p>
<p>Perform tuning analysis specific to static gratings stimulus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_set: BrainObservatoryNwbDataSet object</strong></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allensdk.brain_observatory.static_gratings.StaticGratings.get_peak">
<tt class="descname">get_peak</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/static_gratings.html#StaticGratings.get_peak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.static_gratings.StaticGratings.get_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes metrics related to each cell&#8217;s peak response condition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Panda data frame with the following fields (_sg suffix is</p>
<p>for static grating):</p>
<blockquote class="last">
<div><ul class="simple">
<li>ori_sg (orientation)</li>
<li>sf_sg (spatial frequency)</li>
<li>phase_sg</li>
<li>response_variability_sg</li>
<li>osi_sg (orientation selectivity index)</li>
<li>peak_dff_sg (peak dF/F)</li>
<li>ptest_sg</li>
<li>time_to_peak_sg</li>
<li>duration_sg</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.static_gratings.StaticGratings.get_response">
<tt class="descname">get_response</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/static_gratings.html#StaticGratings.get_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.static_gratings.StaticGratings.get_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the mean response for each cell to each stimulus condition.  Return is
a (# orientations, # spatial frequencies, # phasees, # cells, 3) np.ndarray.  The final dimension
contains the mean response to the condition (index 0), standard error of the mean of the response
to the condition (index 1), and the number of trials with a significant response (p &lt; 0.05)
to that condition (index 2).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numpy array storing mean responses.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.stimulus_analysis">
<span id="allensdk-brain-observatory-stimulus-analysis-module"></span><h2>allensdk.brain_observatory.stimulus_analysis module<a class="headerlink" href="#module-allensdk.brain_observatory.stimulus_analysis" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis">
<em class="property">class </em><tt class="descclassname">allensdk.brain_observatory.stimulus_analysis.</tt><tt class="descname">StimulusAnalysis</tt><big>(</big><em>data_set</em>, <em>speed_tuning=False</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/stimulus_analysis.html#StimulusAnalysis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for all response analysis code. Subclasses are responsible
for computing metrics and traces relevant to a particular stimulus.
The base class contains methods for organizing sweep responses row of
a stimulus stable (get_sweep_response).  Subclasses implement the
get_response method, computes the mean sweep response to all sweeps for
a each stimulus condition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data_set: BrainObservatoryNwbDataSet instance</strong></p>
<p><strong>speed_tuning: boolean</strong></p>
<blockquote class="last">
<div><p>Whether or not to compute speed tuning histograms</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis.get_peak">
<tt class="descname">get_peak</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/stimulus_analysis.html#StimulusAnalysis.get_peak"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis.get_peak" title="Permalink to this definition">¶</a></dt>
<dd><p>Implemented by subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis.get_response">
<tt class="descname">get_response</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/stimulus_analysis.html#StimulusAnalysis.get_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis.get_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Implemented by subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis.get_speed_tuning">
<tt class="descname">get_speed_tuning</tt><big>(</big><em>binsize</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/stimulus_analysis.html#StimulusAnalysis.get_speed_tuning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis.get_speed_tuning" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates speed tuning, spontaneous versus visually driven.  The return is a 5-tuple
of speed and dF/F histograms.</p>
<blockquote>
<div><p>binned_dx_sp: (bins,2) np.ndarray of running speeds binned during spontaneous activity stimulus.
The first bin contains all speeds below 1 cm/s.  Dimension 0 is mean running speed in the bin.
Dimension 1 is the standard error of the mean.</p>
<p>binned_cells_sp: (bins,2) np.ndarray of fluorescence during spontaneous activity stimulus.
First bin contains all data for speeds below 1 cm/s. Dimension 0 is mean fluorescence in the bin.
Dimension 1 is the standard error of the mean.</p>
<p>binned_dx_vis: (bins,2) np.ndarray of running speeds outside of spontaneous activity stimulus.
The first bin contains all speeds below 1 cm/s.  Dimension 0 is mean running speed in the bin.
Dimension 1 is the standard error of the mean.</p>
<p>binned_cells_vis: np.ndarray of fluorescence outside of spontaneous activity stimulu.
First bin contains all data for speeds below 1 cm/s. Dimension 0 is mean fluorescence in the bin.
Dimension 1 is the standard error of the mean.</p>
<p>peak_run: pd.DataFrame of speed-related properties of a cell.</p>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">tuple: binned_dx_sp, binned_cells_sp, binned_dx_vis, binned_cells_vis, peak_run</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis.get_sweep_response">
<tt class="descname">get_sweep_response</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/stimulus_analysis.html#StimulusAnalysis.get_sweep_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.stimulus_analysis.StimulusAnalysis.get_sweep_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the response to each sweep in the stimulus table for each cell and the mean response.
The return is a 3-tuple of:</p>
<blockquote>
<div><ul class="simple">
<li>sweep_response: pd.DataFrame of response dF/F traces organized by cell (column) and sweep (row)</li>
<li>mean_sweep_response: mean values of the traces returned in sweep_response</li>
<li>pval: p value from 1-way ANOVA comparing response during sweep to response prior to sweep</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">3-tuple: sweep_response, mean_sweep_response, pval</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory.stimulus_info">
<span id="allensdk-brain-observatory-stimulus-info-module"></span><h2>allensdk.brain_observatory.stimulus_info module<a class="headerlink" href="#module-allensdk.brain_observatory.stimulus_info" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="allensdk.brain_observatory.stimulus_info.all_stimuli">
<tt class="descclassname">allensdk.brain_observatory.stimulus_info.</tt><tt class="descname">all_stimuli</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/stimulus_info.html#all_stimuli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.stimulus_info.all_stimuli" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all stimuli in the data set</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.stimulus_info.sessions_with_stimulus">
<tt class="descclassname">allensdk.brain_observatory.stimulus_info.</tt><tt class="descname">sessions_with_stimulus</tt><big>(</big><em>stimulus</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/stimulus_info.html#sessions_with_stimulus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.stimulus_info.sessions_with_stimulus" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the names of the sessions that contain a given stimulus.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.brain_observatory.stimulus_info.stimuli_in_session">
<tt class="descclassname">allensdk.brain_observatory.stimulus_info.</tt><tt class="descname">stimuli_in_session</tt><big>(</big><em>session</em><big>)</big><a class="reference internal" href="_modules/allensdk/brain_observatory/stimulus_info.html#stimuli_in_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.brain_observatory.stimulus_info.stimuli_in_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list what stimuli are available in a given session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>session: string</strong></p>
<blockquote class="last">
<div><p>Must be one of: [stimulus_info.THREE_SESSION_A, stimulus_info.THREE_SESSION_B, stimulus_info.THREE_SESSION_C]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-allensdk.brain_observatory">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-allensdk.brain_observatory" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install Guide</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_resources.html">Data Resources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="brain_observatory.html">Brain Observatory</a></li>
<li class="toctree-l2"><a class="reference internal" href="cell_types.html">Cell Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="connectivity.html">Mouse Connectivity</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_api_client.html">API Access</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="glif_models.html">Generalized LIF</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysical_models.html">Biophysical</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="allensdk.html">Source Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="allensdk.api.html">allensdk.api package</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">allensdk.brain_observatory package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.config.html">allensdk.config package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.core.html">allensdk.core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.ephys.html">allensdk.ephys package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.model.html">allensdk.model package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.morphology.html">allensdk.morphology package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/AllenInstitute/AllenSDK">Github Profile</a></li>
</ul>

<h3> Questions </h3>
<p class="questions">
  Send any questions using the <a href="http://alleninstitute.org/contact_us/index.html">Send Us a Message</a> link below, 
  or submit your question to <a href="http://stackoverflow.com/">StackOverflow</a> using with the 'allensdk' tag.
</p>

<p class="questions">
  If you encounter any problems using the AllenSDK, please create an issue on <a href="http://github.com/alleninstitute/allensdk/issues/">Github's issue tracker</a>.
</p>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


    <div class="footer">
    </div>
<script type="text/javascript" src="/AllenSDK/_static/external_assets/javascript/portalFooter.js"></script>

  </body>
</html>