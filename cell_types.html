<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cell Types &mdash; Allen SDK 0.2.0dev documentation</title>
    
    <link rel="stylesheet" href="_static/aibs_sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Allen SDK 0.2.0dev documentation" href="index.html" />
    <link rel="up" title="Data Resources" href="data_resources.html" />
    <link rel="next" title="API Access" href="data_api_client.html" />
    <link rel="prev" title="Data Resources" href="data_resources.html" /> 
  </head>
  <body>
<script type="text/javascript" src="_static/external_assets/javascript/portal.js"></script>
<style>

	/* the icon font-family definition and helper classes */
	@font-face {
	  font-family: 'portal_icon_font';
	  src: url('_static/external_assets/stylesheets/portal_icon_font.eot?39505677');
	  src: url('_static/external_assets/stylesheets/portal_icon_font.eot?39505677#iefix') format('embedded-opentype'),
	       url('_static/external_assets/stylesheets/portal_icon_font.woff?39505677') format('woff'),
	       url('_static/external_assets/stylesheets/portal_icon_font.ttf?39505677') format('truetype'),
	       url('_static/external_assets/stylesheets/portal_icon_font.svg?39505677#portal_icon_font') format('svg');
	  font-weight: normal;
	  font-style: normal;
	}
	 
	 [class^="icon-"]:before, [class*=" icon-"]:before {
	  font-family: "portal_icon_font";
	  font-style: normal;
	  font-weight: normal;
	  speak: none;
	 
	  display: inline-block;
	  text-decoration: inherit;
	  width: 1em;
	  margin-right: .2em;
	  text-align: center;
	  /* opacity: .8; */
	 
	  /* For safety - reset parent styles, that can break glyph codes*/
	  font-variant: normal;
	  text-transform: none;
	     
	  /* fix buttons height, for twitter bootstrap */
	  line-height: 1em;
	 
	  /* Animation center compensation - margins should be symmetric */
	  /* remove if not needed */
	  margin-left: .2em;
	
	}
	 
	.icon-spin5:before { content: '\e806'; } /* '' */
	.icon-left-open-1:before { content: '\e81e'; } /* '' */
	.icon-plus-1:before { content: '\e801'; } /* '' */
	.icon-facebook:before { content: '\e816'; } /* '' */
	.icon-gplus:before { content: '\e818'; } /* '' */
	.icon-linkedin-3:before { content: '\e815'; } /* '' */
	.icon-twitter:before { content: '\e817'; } /* '' */
	.icon-youtube-play:before { content: '\e805'; } /* '' */
	.icon-plus-2:before { content: '\e809'; } /* '' */
	.icon-record-1:before { content: '\e81c'; } /* '' */
	.icon-cancel:before { content: '\e80b'; } /* '' */
	.icon-search:before { content: '\e804'; } /* '' */
	.icon-cancel-2:before { content: '\e80c'; } /* '' */
	.icon-plus-4:before { content: '\e80d'; } /* '' */
	.icon-cancel-3:before { content: '\e80e'; } /* '' */
	.icon-plus:before { content: '\e808'; } /* '' */
	.icon-down-open:before { content: '\e800'; } /* '' */
	.icon-right-open:before { content: '\e802'; } /* '' */
	.icon-up-open:before { content: '\e803'; } /* '' */
	.icon-stop:before { content: '\e813'; } /* '' */
	.icon-cancel-1:before { content: '\e820'; } /* '' */
	.icon-plus-3:before { content: '\e80a'; } /* '' */
	/* end icon font helpers */

	/* icon font spin animation */
	.animate-spin {
	  -moz-animation: spin 2s infinite linear;
	  -o-animation: spin 2s infinite linear;
	  -webkit-animation: spin 2s infinite linear;
	  animation: spin 2s infinite linear;
	  display: inline-block;
	}
	@-moz-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@-webkit-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@-o-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@-ms-keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	@keyframes spin {
	  0% {
	    -moz-transform: rotate(0deg);
	    -o-transform: rotate(0deg);
	    -webkit-transform: rotate(0deg);
	    transform: rotate(0deg);
	  }

	  100% {
	    -moz-transform: rotate(359deg);
	    -o-transform: rotate(359deg);
	    -webkit-transform: rotate(359deg);
	    transform: rotate(359deg);
	  }
	}
	/*  end spin animation */	

	@font-face {
	    font-family: 'bebas_neueregular';
	    src: url('_static/external_assets/stylesheets/bebasneue-webfont.eot');
	    src: url('_static/external_assets/stylesheets/bebasneue-webfont.eot?#iefix') format('embedded-opentype'),
	         url('_static/external_assets/stylesheets/bebasneue-webfont.woff') format('woff'),
	         url('_static/external_assets/stylesheets/bebasneue-webfont.ttf') format('truetype'),
	         url('_static/external_assets/stylesheets/bebasneue-webfont.svg#bebas_neueregular') format('svg');
	    font-weight: normal;
	    font-style: normal;
	}

	/* top chrome styles */
	#top_chrome {

		width:100%;
		height:28px;
		background-color:#163E65;
	}

	.chrome_link_block {

		color:#fff !important;	
		display:inline-block;
		height:100%;
		max-height:28px;
	}

	.chrome_link_block:hover {

		background-color:#eee;
		color:#0779BE !important;	
		cursor:pointer;
	}

	#top_chrome a {

		color:inherit !important;	
		text-decoration:none;
	}

	#top_chrome a:hover {

		color:inherit !important;	
	}

	#top_chrome_buttons {

		float:right;
		margin-right:50px;
	}

	.chrome_button {

		font-family:arial,sans-serif;
		font-weight:bold;
		display:inline-block;
		font-size:9px;
		text-align:left;
		text-decoration:none;
		margin:9px 20px 10px 20px;
	}

	.chrome_active {

		background-color:#1b7abd;
		color:#fff;
	}


	/* header element styles*/
	#header_content {

		font-family: bebas_neueregular, arial, sans-serif;
		font-size:22px;
		color:#0779be;		
		letter-spacing:0.03em;

		position:relative;
		width:calc(100% - 112px);
		min-width:800px;
		height:76px;
		border-bottom:2px solid #A5A8AB;
		margin-left:50px;
		margin-right:50px;
        z-index:9999; /* IT-9508 */
	}

	#portal_logo {

		position:absolute;
		top:20px;
		left:0px;
		width:236px;
	}

	#portal_tabs {

		position: absolute;
		bottom: 12px;
		left: 0px;
		margin-bottom: -12px;
		display: block;
	}

	.horizontal_list
	{
		margin: 0;
		padding: 0;
		list-style-type: none;
		display: inline; 		
	}

	.horizontal_list li { 

		display: inline; 	
	}	

	#portal_tab_menu_container {

		display:none;
	}

	#portal_search_input_group {

		position:absolute;
		margin: 0;
		padding: 0;
		bottom:12px;
		right:0px;
		border:1px solid #DAD9D3;
		color:#DAD9D3;
	}

	#portal_search_input_group input {

		margin: 0;
		padding: 0;
		border:none;
		width:110px;
		color:#DAD9D3;
		font-family:Helvetica,sans-serif;
		font-size:12px;
		height:28px;
		margin-left:10px;

		outline:none;
	}

	input::-ms-clear {
		display: none;
	}

	#portal_search_input_group i {

		font-size:0.8em;
		cursor:pointer;
	}

	#pSiteSearchTextInput:focus {

		color:#000;
	}

	.icon_menu_down {

		font-size: 12px;
		margin-left: 4px;
		vertical-align: text-top;
		padding-top: 4px;
		display: inline-block;
	}

	.portal_tab_item {

		background-color: #fff;
		padding: 12px;
		padding-left:20px;
		padding-right:20px;
		display: inline-block !important;		
	}

	.portal_tab_item a:hover {

		color:#fbe300;	
	}

	.portal_tab_item:hover {

		background-color: #0779be;	
		color:#fbe300 !important;	
	}	


	.portal_menu_active {

		background-color: #EEEEEE;
	}	

	.portal_menu_item_active {

		color:#fbe300 !important;	
	}

	.portal_tab_active {

		color:#a5a8ab !important;
	}

	#header_content a {		

		color:inherit !important;
	}

	#header_content a:hover {

		background-color: #0779be;	
		color:#fbe300 !important;	
	}

	#header_content ul {

		list-style: none;
		position: relative;
		top: 58px;
		display: inline-table;
	}

	#header_content ul ul {
		
		display:none;
		opacity:0;
	}

	/* the fly out menus */
	#header_content ul li:hover > ul,
	#header_content ul li.hover > ul {

		position: absolute;
		top: 48px;
		z-index:999;

		display: block;
		width: 152px;
		padding:0px;
		padding-top:20px;
		padding-bottom:10px;
		font-size: 12px;
		font-family: Arial,Sans-Serif;
		font-weight: bold;
		text-transform: uppercase;

		background-color: rgba(8,122,191,0.98);
		color: #fff !important;
		opacity: 1;

		-webkit-animation: fade 0.25s;
		animation: fade 0.25s;
	}

	@-webkit-keyframes fade {
	    from {opacity: 0}
	    to {opacity: 1}
	}
	@keyframes fade {
	    from {opacity: 0}
	    to {opacity: 1}
	}	

	#header_content ul li:hover > ul li {

		padding: 10px;
		padding-top: 0px;
		padding-left: 20px;
		display: block;
		opacity:1;
	}

	#header_content ul li:hover > ul a {

		display: block;
		opacity:1;
		white-space:nowrap;
	}

	#portal_menu_start_list {

		left: 81px;

		/* IE sauce */
		left:85px\9;

		/* Safari sauce */
		(;left:79px;);
	}

	#portal_menu_atlases_list {

		left: 290px;
		width: 210px !important;
        height: 236px;

		padding-bottom:5px !important;

		/* IE sauce */
		left: 303px\9;
        height: 225px\9;

		/* Safari sauce */
		(;left:279px;);
	}

	#portal_menu_tools_list {

		left: 500px;
		width: 172px !important;
		height: 236px;

		padding-bottom:5px !important;

		/* IE sauce */
		left: 513px\9;
		height:225px\9;

		/* Safari sauce */
		(;left:489px;);
		(;height:227px;);
	}

	/* mozilla sauce */
	@-moz-document url-prefix() {

		#header_content {

			height:107px;
		}

		#portal_menu_start_list {

			left:85px;
		}

		#portal_menu_atlases_list {

			left: 302px;		
		}

		#portal_menu_tools_list {

			left: 512px;
			height:236px;
		}
	}


	/* make it look OK on iPad also */
	@media all and (device-width: 768px) and (device-height: 1024px) and (orientation:portrait) {

		#portal_menu_start_list {

			left:81px;
		}

		#portal_menu_atlases_list {

			left: 291px;		
		}

		#portal_menu_tools_list {

			left: 501px;
			height:236px;
		}  
	}
	@media all and (device-width: 768px) and (device-height: 1024px) and (orientation:landscape) {

		#portal_menu_start_list {

			left:81px;
		}

		#portal_menu_atlases_list {

			left: 291px;		
		}

		#portal_menu_tools_list {

			left: 501px;
			height:236px;
		}	  
	}

	.portal_menu_list_heading {

		color:#9ccae5;
		border-bottom:1px solid #9ccae5;
		padding-bottom:5px !important;
	}

	.portal_menu_list_heading + li {

		padding-top:10px !important;
	}

	.portal_menu_list_heading li {

		padding-bottom:0px;
	}	

	#portal_menu_atlases_list li:last-of-type {

		padding-bottom:15px !important;
	}

	.icon-spin5 {

		color:#000;
	}
</style>
<div id="pHeader">
<div id="top_chrome">
	<div id="top_chrome_buttons">
		<div class="chrome_link_block"><a href="http://www.alleninstitute.org" target="_blank" class="chrome_button">ALLEN INSTITUTE</a></div>
		<div class="chrome_link_block chrome_active"><a href="http://www.brain-map.org" class="chrome_button">BRAIN ATLAS</a></div>
	</div>
</div>

<div id="header_content">

	<a href="http://AllenInstitute.github.io/AllenSDK">
		<img id="portal_logo" style="border:0;" src="_static/external_assets/images/Brain_Atlas_Logotype_SDK.png"/>
	</a>
</div>
</div>

<script>

jQuery('#portal_tab_menu').bind('touchstart', function() {

	if(window.console)
		console.log("touchstart");
});
</script>
<link rel="stylesheet" type="text/css" href="_static/external_assets/stylesheets/common_layout.css" />


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="cell-types">
<h1>Cell Types<a class="headerlink" href="#cell-types" title="Permalink to this headline">¶</a></h1>
<p>The Allen Cell Types data set is a database of neuronal cell types based on multimodal characterization
of single cells to enable data-driven approaches to classification and is fully integrated with other
Allen Brain Atlas resources.  The database currently includes:</p>
<blockquote>
<div><ul class="simple">
<li><strong>electrophysiology</strong>: whole cell current clamp recordings made from Cre-positive neurons</li>
<li><strong>morphology</strong>: 3D bright-field images of the complete structure of neurons from the visual cortex</li>
</ul>
</div></blockquote>
<p>This page describes how the SDK can be used to access data in the Cell Types Database.  For more information,
please visit the Cell Types <a class="reference external" href="http://celltypes.brain-map.org/">home page</a> and the
<a class="reference external" href="http://help.brain-map.org/display/celltypes/Allen+Cell+Types+Database">documentation</a>.</p>
<div class="section" id="cell-types-api-access">
<h2>Cell Types API Access<a class="headerlink" href="#cell-types-api-access" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="allensdk.api.queries.html#allensdk.api.queries.cell_types_api.CellTypesApi" title="allensdk.api.queries.cell_types_api.CellTypesApi"><tt class="xref py py-class docutils literal"><span class="pre">CellTypesApi</span></tt></a> class provides a Python interface for downloading data
in the Allen Cell Types Database.  The following example demonstrates how to download meta data for
all cells with 3D reconstructions, then download the reconstruction and electrophysiology recordings
for one of those cells:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">allensdk.api.queries.cell_types_api</span> <span class="kn">import</span> <span class="n">CellTypesApi</span>

<span class="n">ct</span> <span class="o">=</span> <span class="n">CellTypesApi</span><span class="p">()</span>

<span class="c"># a list of dictionaries containing metadata for cells</span>
<span class="c"># that have morphological reconstructions</span>
<span class="n">cells</span> <span class="o">=</span> <span class="n">ct</span><span class="o">.</span><span class="n">list_cells</span><span class="p">(</span><span class="n">require_reconstruction</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c"># download the electrophysiology data for one cell</span>
<span class="n">ct</span><span class="o">.</span><span class="n">save_ephys_data</span><span class="p">(</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;id&#39;</span><span class="p">],</span> <span class="s">&#39;example.nwb&#39;</span><span class="p">)</span>

<span class="c"># download the reconstruction for the same cell</span>
<span class="n">ct</span><span class="o">.</span><span class="n">save_reconstruction</span><span class="p">(</span><span class="n">cells</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s">&#39;id&#39;</span><span class="p">],</span> <span class="s">&#39;example.swc&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="file-formats">
<h2>File Formats<a class="headerlink" href="#file-formats" title="Permalink to this headline">¶</a></h2>
<p>This section provides a short description of the file formats used for Allen Cell Types data.</p>
<div class="section" id="morphology-swc-files">
<h3>Morphology SWC Files<a class="headerlink" href="#morphology-swc-files" title="Permalink to this headline">¶</a></h3>
<p>Morphological neuron reconstructions are available for download as SWC files.  The SWC file format is a white-space delimited text file with a standard set of headers.  The file lists a set of 3D neuronal compartments, each of which has:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="21%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column</th>
<th class="head">Data Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>id</td>
<td>string</td>
<td>compartment ID</td>
</tr>
<tr class="row-odd"><td>type</td>
<td>integer</td>
<td>compartment type</td>
</tr>
<tr class="row-even"><td>x</td>
<td>float</td>
<td>3D compartment position (x)</td>
</tr>
<tr class="row-odd"><td>y</td>
<td>float</td>
<td>3D compartment position (y)</td>
</tr>
<tr class="row-even"><td>z</td>
<td>float</td>
<td>3D compartment position (z)</td>
</tr>
<tr class="row-odd"><td>radius</td>
<td>float</td>
<td>compartment radius</td>
</tr>
<tr class="row-even"><td>parent</td>
<td>string</td>
<td>parent compartment ID</td>
</tr>
</tbody>
</table>
<p>Comment lines begin with a &#8216;#&#8217;.  Reconstructions in the Allen Cell Types Database can contain the following compartment types:</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>unknown</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>soma</td>
</tr>
<tr class="row-even"><td>2</td>
<td>axon</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>basal dendrite</td>
</tr>
<tr class="row-even"><td>4</td>
<td>apical dendrite</td>
</tr>
</tbody>
</table>
<p>The Allen SDK comes with a <a class="reference internal" href="allensdk.core.html#module-allensdk.core.swc" title="allensdk.core.swc"><tt class="xref py py-mod docutils literal"><span class="pre">swc</span></tt></a> Python module that provides helper functions and classes for manipulating SWC files.  Consider the following example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">allensdk.core.swc</span> <span class="kn">as</span> <span class="nn">swc</span>

<span class="n">file_name</span> <span class="o">=</span> <span class="s">&#39;example.swc&#39;</span>
<span class="n">morphology</span> <span class="o">=</span> <span class="n">swc</span><span class="o">.</span><span class="n">read_swc</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>

<span class="c"># subsample the morphology 3x. root, soma, junctions, and the first child of the root are preserved.</span>
<span class="n">sparse_morphology</span> <span class="o">=</span> <span class="n">morphology</span><span class="o">.</span><span class="n">sparsify</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c"># compartments in the order that they were specified in the file</span>
<span class="n">compartment_list</span> <span class="o">=</span> <span class="n">sparse_morphology</span><span class="o">.</span><span class="n">compartment_list</span>

<span class="c"># a dictionary of compartments indexed by compartment id</span>
<span class="n">compartments_by_id</span> <span class="o">=</span> <span class="n">sparse_morphology</span><span class="o">.</span><span class="n">compartment_index</span>

<span class="c"># the root compartment (usually the soma)</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">morphology</span><span class="o">.</span><span class="n">root</span>

<span class="c"># all compartments are dictionaries of compartment properties</span>
<span class="c"># compartments also keep track of ids of their children</span>
<span class="k">for</span> <span class="n">child_id</span> <span class="ow">in</span> <span class="n">root</span><span class="p">[</span><span class="s">&#39;children&#39;</span><span class="p">]:</span>
    <span class="n">child</span> <span class="o">=</span> <span class="n">compartments_by_id</span><span class="p">[</span><span class="n">child_id</span><span class="p">]</span>
    <span class="k">print</span> <span class="n">child</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">],</span> <span class="n">child</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">],</span> <span class="n">child</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">],</span> <span class="n">child</span><span class="p">[</span><span class="s">&#39;radius&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="neurodata-without-borders">
<h3>Neurodata Without Borders<a class="headerlink" href="#neurodata-without-borders" title="Permalink to this headline">¶</a></h3>
<p>The electrophysiology data collected in the Allen Cell Types Database
is stored in the <a class="reference external" href="http://neurodatawithoutborders.github.io/">Neurodata Without Borders</a> (NWB) file format.
This format, created as part of the <a class="reference external" href="http://crcns.org/NWB/Overview">NWB initiative</a>, is designed to store
a variety of neurophysiology data, including data from intra- and
extracellular electrophysiology experiments, optophysiology experiments,
as well as tracking and stimulus data.  It has a defined schema and metadata
labeling system designed so software tools can easily access contained data.</p>
<p>The Allen SDK provides a basic Python class for extracting data from
Allen Cell Types Database NWB files. These files store data from intracellular
patch-clamp recordings. A stimulus current is presented to the cell and the cell&#8217;s
voltage response is recorded.  The file stores both stimulus and response for
several experimental trials, here called &#8220;sweeps.&#8221;  The following code snippet
demonstrates how to extract a sweep&#8217;s stimulus, response, sampling rate,
and estimated spike times:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">allensdk.core.nwb_data_set</span> <span class="kn">import</span> <span class="n">NwbDataSet</span>

<span class="n">file_name</span> <span class="o">=</span> <span class="s">&#39;example.nwb&#39;</span>
<span class="n">data_set</span> <span class="o">=</span> <span class="n">NwbDataSet</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>

<span class="n">sweep_number</span> <span class="o">=</span> <span class="mi">61</span>
<span class="n">sweep_data</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">get_sweep</span><span class="p">(</span><span class="n">sweep_number</span><span class="p">)</span>

<span class="c"># spike times are in seconds relative to the start of the sweep</span>
<span class="n">spike_times</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">get_spike_times</span><span class="p">(</span><span class="n">sweep_number</span><span class="p">)</span>

<span class="c"># stimulus is a numpy array in amps</span>
<span class="n">stimulus</span> <span class="o">=</span> <span class="n">sweep_data</span><span class="p">[</span><span class="s">&#39;stimulus&#39;</span><span class="p">]</span>

<span class="c"># response is a numpy array in volts</span>
<span class="n">reponse</span> <span class="o">=</span> <span class="n">sweep_data</span><span class="p">[</span><span class="s">&#39;response&#39;</span><span class="p">]</span>

<span class="c"># sampling rate is in Hz</span>
<span class="n">sampling_rate</span> <span class="o">=</span> <span class="n">sweep_data</span><span class="p">[</span><span class="s">&#39;sampling_rate&#39;</span><span class="p">]</span>

<span class="c"># start/stop indices that exclude the experimental test pulse (if applicable)</span>
<span class="n">index_range</span> <span class="o">=</span> <span class="n">sweep_data</span><span class="p">[</span><span class="s">&#39;index_range&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="hdf5-overview">
<h3>HDF5 Overview<a class="headerlink" href="#hdf5-overview" title="Permalink to this headline">¶</a></h3>
<p>NWB is implemented in <a class="reference external" href="https://hdfgroup.org/HDF5">HDF5</a>.  HDF5 files provide a hierarchical data storage that mirrors the organization of a file system.  Just as a file system has directories and files, and HDF5 file has groups and datasets.  The best way to understand an HDF5 (and NWB) file is to open a data file in an HDF5 browser. <a class="reference external" href="https://hdfgroup.org/products/java/hdfview">HDFView</a> is the recommended browser from the makers of HDF5.</p>
<p>There are HDF5 manipulation libraries for many languages and platorms.  MATLAB and Python in particular have strong HDF5 support.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install Guide</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="data_resources.html">Data Resources</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Cell Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_api_client.html">API Access</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="glif_models.html">Generalized LIF</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysical_perisomatic_script.html">Perisomatic Biophysical</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="allensdk.html">Source Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="allensdk.api.html">allensdk.api package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.config.html">allensdk.config package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.core.html">allensdk.core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.model.html">allensdk.model package</a></li>
</ul>
</li>
</ul>


<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


    <div class="footer">
    </div>
<script type="text/javascript" src="_static/external_assets/javascript/portalFooter.js"></script>

  </body>
</html>