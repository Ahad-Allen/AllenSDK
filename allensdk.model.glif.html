<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>allensdk.model.glif package &mdash; Allen SDK 0.14.1 documentation</title>
    
    <link rel="stylesheet" href="_static/aibs_sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.14.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Allen SDK 0.14.1 documentation" href="index.html" />
    <link rel="up" title="allensdk.model package" href="allensdk.model.html" />
    <link rel="next" title="allensdk.morphology package" href="allensdk.morphology.html" />
    <link rel="prev" title="allensdk.model.biophysical package" href="allensdk.model.biophysical.html" /> 
  </head>
  <body role="document">
<link href="http://www.brain-map.org/assets/stylesheets/portal.css" media="screen" rel="stylesheet" type="text/css" />
<script src="http://www.brain-map.org/assets/javascripts/portal.js" type="text/javascript"></script>
<script src="http://www.brain-map.org/assets/javascripts/ga.js" type="text/javascript"></script>
<script type="text/javascript">
    var _pSupressBrowserFlashWarning = true;
    var _pTabId = "pHome";
    var _pMoreProjectsId = "pMoreProjects";
    var _pImagePath = "http://www.brain-map.org/assets/images/";
    var _pSiteWarnings = function() {
        this.show_warning() = {};
    }
</script>
<script type="text/javascript">
    function initialize() {
        /*** do your stuff, then initialize the portal plugin ***/
        _pPortalOnLoad();
    }
</script>
<style>
  #header_content > a {
  display: inline-block;
  width: 250px;
  height: 75px;
  background-image:url("/AllenSDK/_static/external_assets/images/Brain_Atlas_Logotype_SDK.png") !important;
  background-size: 235px 37px;
  background-position: 0px 20px;
  background-repeat: no-repeat;
  }
</style>

<script type="text/javascript" src="http://www.brain-map.org/external_assets/javascripts/portalHeader.js"></script>
<link rel="stylesheet" type="text/css" href="/AllenSDK/_static/external_assets/stylesheets/common_layout.css" />


  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="allensdk-model-glif-package">
<h1>allensdk.model.glif package<a class="headerlink" href="#allensdk-model-glif-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-allensdk.model.glif.glif_neuron">
<span id="allensdk-model-glif-glif-neuron-module"></span><h2>allensdk.model.glif.glif_neuron module<a class="headerlink" href="#module-allensdk.model.glif.glif_neuron" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="allensdk.model.glif.glif_neuron.GlifBadResetException">
<em class="property">exception </em><code class="descclassname">allensdk.model.glif.glif_neuron.</code><code class="descname">GlifBadResetException</code><span class="sig-paren">(</span><em>message</em>, <em>dv</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifBadResetException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifBadResetException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
<p>Exception raised when voltage is still above threshold after a reset rule is applied.</p>
</dd></dl>

<dl class="class">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron">
<em class="property">class </em><code class="descclassname">allensdk.model.glif.glif_neuron.</code><code class="descname">GlifNeuron</code><span class="sig-paren">(</span><em>El</em>, <em>dt</em>, <em>asc_tau_array</em>, <em>R_input</em>, <em>C</em>, <em>asc_amp_array</em>, <em>spike_cut_length</em>, <em>th_inf</em>, <em>th_adapt</em>, <em>coeffs</em>, <em>AScurrent_dynamics_method</em>, <em>voltage_dynamics_method</em>, <em>threshold_dynamics_method</em>, <em>AScurrent_reset_method</em>, <em>voltage_reset_method</em>, <em>threshold_reset_method</em>, <em>init_voltage</em>, <em>init_threshold</em>, <em>init_AScurrents</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifNeuron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Implements the current-based Mihalas Neiber GLIF neuron.  Simulations model the voltage, 
threshold, and afterspike currents of a neuron given an input stimulus.  A set of modular dynamics
rules are applied until voltage crosses threshold, at which point a set of modular reset rules are 
applied. See glif_neuron_methods.py for a list of what options there are for voltage, threshold, and
afterspike current dynamics and reset rules.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>El</strong> : float</p>
<blockquote class="last">
<div><blockquote>
<div><p>resting potential</p>
</div></blockquote>
<dl class="docutils">
<dt>dt</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">duration between time steps</p>
</dd>
<dt>asc_tau_array: np.ndarray</dt>
<dd><p class="first last">TODO</p>
</dd>
<dt>R_input</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">input resistance</p>
</dd>
<dt>C</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">capacitance</p>
</dd>
<dt>asc_amp_arrap</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray</span><dd><p class="first last">afterspike current vector.  one element per element of asc_tau_array.</p>
</dd>
<dt>spike_cut_length</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">int</span><dd><p class="first last">how many time steps to replace with NaNs when a spike occurs.</p>
</dd>
<dt>th_inf</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">instantaneous threshold</p>
</dd>
<dt>coeffs</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dict</span><dd><p class="first last">dictionary coefficients premultiplied to neuron properties during simulation. used for optimization.</p>
</dd>
<dt>AScurrent_dynamics_method</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dict</span><dd><p class="first last">dictionary containing the &#8216;name&#8217; of the afterspike current dynamics method to use and a &#8216;params&#8217; dictionary parameters to pass to that function.</p>
</dd>
<dt>voltage_dynamics_method</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dict</span><dd><p class="first last">dictionary containing the &#8216;name&#8217; of the voltage dynamics method to use and a &#8216;params&#8217; dictionary parameters to pass to that function.</p>
</dd>
<dt>threshold_dynamics_method</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dict</span><dd><p class="first last">dictionary containing the &#8216;name&#8217; of the threshold dynamics method to use and a &#8216;params&#8217; dictionary parameters to pass to that function.</p>
</dd>
<dt>AScurrent_reset_method</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dict</span><dd><p class="first last">dictionary containing the &#8216;name&#8217; of the afterspike current dynamics method to use and a &#8216;params&#8217; dictionary parameters to pass to that function.</p>
</dd>
<dt>voltage_reset_method</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dict</span><dd><p class="first last">dictionary containing the &#8216;name&#8217; of the voltage dynamics method to use and a &#8216;params&#8217; dictionary parameters to pass to that function.</p>
</dd>
<dt>threshold_reset_method</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">dict</span><dd><p class="first last">dictionary containing the &#8216;name&#8217; of the threshold dynamics method to use and a &#8216;params&#8217; dictionary parameters to pass to that function.</p>
</dd>
<dt>init_voltage</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float </span><dd><p class="first last">initial voltage value</p>
</dd>
<dt>init_threshold</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd><p class="first last">initial spike threshold value</p>
</dd>
<dt>init_AScurrents</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray</span><dd><p class="first last">initial afterspike current vector. one element per element of asc_tau_array.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.TYPE">
<code class="descname">TYPE</code><em class="property"> = 'GLIF'</em><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.append_threshold_components">
<code class="descname">append_threshold_components</code><span class="sig-paren">(</span><em>spike</em>, <em>voltage</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifNeuron.append_threshold_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.append_threshold_components" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.configure_library_method">
<em class="property">static </em><code class="descname">configure_library_method</code><span class="sig-paren">(</span><em>method_type</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifNeuron.configure_library_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.configure_library_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a GlifNeuronMethod instance out of a library of functions organized by type name. 
This refers to the METHOD_LIBRARY in glif_neuron_methods.py, which lays out the available functions 
that can be used for dynamics and reset rules.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>method_type</strong> : string</p>
<blockquote>
<div><p>the name of a function category (e.g. &#8216;AScurrent_dynamics_method&#8217; for the afterspike current dynamics methods)</p>
</div></blockquote>
<p><strong>params</strong> : dict</p>
<blockquote>
<div><p>a dictionary with two members. &#8216;name&#8217;: the string name of function you want, and &#8216;params&#8217;: parameters you want to pass to that function</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">GlifNeuronMethod</p>
<blockquote class="last">
<div><p>a GlifNeuronMethod instance</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.configure_method">
<em class="property">static </em><code class="descname">configure_method</code><span class="sig-paren">(</span><em>method_name</em>, <em>method</em>, <em>method_params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifNeuron.configure_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.configure_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a GlifNeuronMethod instance given a name, a function, and function parameters. 
This is just a shortcut to the GlifNeuronMethod constructor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>method_name</strong> : string</p>
<blockquote>
<div><p>name for refering to this method later</p>
</div></blockquote>
<p><strong>method</strong> : function</p>
<blockquote>
<div><p>a python function</p>
</div></blockquote>
<p><strong>method_parameters</strong> : dict</p>
<blockquote>
<div><p>function arguments whose values should be fixed</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">GlifNeuronMethod</p>
<blockquote class="last">
<div><p>a GlifNeuronMethod instance</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.dynamics">
<code class="descname">dynamics</code><span class="sig-paren">(</span><em>voltage_t0</em>, <em>threshold_t0</em>, <em>AScurrents_t0</em>, <em>inj</em>, <em>time_step</em>, <em>spike_time_steps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifNeuron.dynamics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.dynamics" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the voltage, threshold, and afterspike currents of the neuron for a single time step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>voltage_t0</strong> : float</p>
<blockquote>
<div><p>the current voltage of the neuron</p>
</div></blockquote>
<p><strong>threshold_t0</strong> : float</p>
<blockquote>
<div><p>the current spike threshold level of the neuron</p>
</div></blockquote>
<p><strong>AScurrents_t0</strong> : np.ndarray</p>
<blockquote>
<div><p>the current state of the afterspike currents in the neuron</p>
</div></blockquote>
<p><strong>inj</strong> : float</p>
<blockquote>
<div><p>the current value of the current injection into the neuron</p>
</div></blockquote>
<p><strong>time_step</strong> : int</p>
<blockquote>
<div><p>the current time step of the neuron simulation</p>
</div></blockquote>
<p><strong>spike_time_steps</strong> : list</p>
<blockquote>
<div><p>a list of all of the time steps of spikes in the neuron</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">tuple</p>
<blockquote class="last">
<div><p>voltage_t1 (voltage at next time step), threshold_t1 (threshold at next time step), AScurrents_t1 (afterspike currents at next time step)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.from_dict">
<em class="property">classmethod </em><code class="descname">from_dict</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifNeuron.from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>voltage_t0</em>, <em>threshold_t0</em>, <em>AScurrents_t0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifNeuron.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply reset rules to the neuron&#8217;s voltage, threshold, and afterspike currents assuming a spike has occurred (voltage is above threshold).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>voltage_t0</strong> : float</p>
<blockquote>
<div><p>the current voltage of the neuron</p>
</div></blockquote>
<p><strong>threshold_t0</strong> : float</p>
<blockquote>
<div><p>the current spike threshold level of the neuron</p>
</div></blockquote>
<p><strong>AScurrents_t0</strong> : np.ndarray</p>
<blockquote>
<div><p>the current state of the afterspike currents in the neuron</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">tuple</p>
<blockquote class="last">
<div><p>voltage_t1 (voltage at next time step), threshold_t1 (threshold at next time step), AScurrents_t1 (afterspike currents at next time step)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>stim</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifNeuron.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run neuron simulation over a given stimulus. This steps through the stimulus applying dynamics equations.
After each step it checks if voltage is above threshold.  If so, self.spike_cut_length NaNs are inserted 
into the output voltages, reset rules are applied to the voltage, threshold, and afterspike currents, and the 
simulation resumes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stim</strong> : np.ndarray</p>
<blockquote>
<div><p>vector of scalar current values</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>a dictionary containing: </dt>
<dd><p class="first last">&#8216;voltage&#8217;: simulated voltage values, 
&#8216;threshold&#8217;: threshold values during the simulation,
&#8216;AScurrents&#8217;: afterspike current values during the simulation, 
&#8216;grid_spike_times&#8217;: spike times (in uits of self.dt) aligned to simulation time steps, 
&#8216;interpolated_spike_times&#8217;: spike times (in units of self.dt) linearly interpolated between time steps, 
&#8216;spike_time_steps&#8217;: the indices of grid spike times, 
&#8216;interpolated_spike_voltage&#8217;: voltage of the simulation at interpolated spike times, 
&#8216;interpolated_spike_threshold&#8217;: threshold of the simulation at interpolated spike times</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.tau_m">
<code class="descname">tau_m</code><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.tau_m" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="allensdk.model.glif.glif_neuron.GlifNeuron.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#GlifNeuron.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.GlifNeuron.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the neuron to a serializable dictionary.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron.interpolate_spike_time">
<code class="descclassname">allensdk.model.glif.glif_neuron.</code><code class="descname">interpolate_spike_time</code><span class="sig-paren">(</span><em>dt</em>, <em>time_step</em>, <em>threshold_t0</em>, <em>threshold_t1</em>, <em>voltage_t0</em>, <em>voltage_t1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#interpolate_spike_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.interpolate_spike_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Given two voltage and threshold values, the dt between them and the initial time step, interpolate
a spike time within the dt interval by intersecting the two lines.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron.interpolate_spike_value">
<code class="descclassname">allensdk.model.glif.glif_neuron.</code><code class="descname">interpolate_spike_value</code><span class="sig-paren">(</span><em>dt</em>, <em>interpolated_spike_time_offset</em>, <em>v0</em>, <em>v1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#interpolate_spike_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.interpolate_spike_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a value at two adjacent time steps and linearly interpolate what the value would be
at an offset between the two time steps.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron.line_crossing_x">
<code class="descclassname">allensdk.model.glif.glif_neuron.</code><code class="descname">line_crossing_x</code><span class="sig-paren">(</span><em>dx</em>, <em>a0</em>, <em>a1</em>, <em>b0</em>, <em>b1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#line_crossing_x"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.line_crossing_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the x value of the intersection of two lines.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron.line_crossing_y">
<code class="descclassname">allensdk.model.glif.glif_neuron.</code><code class="descname">line_crossing_y</code><span class="sig-paren">(</span><em>dx</em>, <em>a0</em>, <em>a1</em>, <em>b0</em>, <em>b1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron.html#line_crossing_y"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron.line_crossing_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the y value of the intersection of two lines.</p>
</dd></dl>

</div>
<div class="section" id="module-allensdk.model.glif.glif_neuron_methods">
<span id="allensdk-model-glif-glif-neuron-methods-module"></span><h2>allensdk.model.glif.glif_neuron_methods module<a class="headerlink" href="#module-allensdk.model.glif.glif_neuron_methods" title="Permalink to this headline">¶</a></h2>
<p>The methods in this module are used for configuring dynamics and reset rules for the GlifNeuron.  
For more details on how to use these methods, see <a class="reference internal" href="glif_models.html"><span class="doc">Generalized LIF Models</span></a>.</p>
<dl class="class">
<dt id="allensdk.model.glif.glif_neuron_methods.GlifNeuronMethod">
<em class="property">class </em><code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">GlifNeuronMethod</code><span class="sig-paren">(</span><em>method_name</em>, <em>method</em>, <em>method_params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#GlifNeuronMethod"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.GlifNeuronMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A simple class to keep track of the name and parameters associated with a neuron method.
This class is initialized with a name, function, and parameters to pass to the function.  The
function then has those passed parameters fixed to a partial function using functools.partial.  
This class then mimics a function itself using the __call__ convention. Parameters that are not 
fixed in this way are assumed to be passed into the method when it is called.  If the passed
parameters contain an argument that is not part of the function signature, an exception will
be raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>method_name</strong> : string</p>
<blockquote>
<div><p>A shorthand name that will be used to reference this method in the <cite>GlifNeuron</cite>.</p>
</div></blockquote>
<p><strong>method</strong> : function</p>
<blockquote>
<div><p>A python function to be called when this instance is called.</p>
</div></blockquote>
<p><strong>method_params</strong> : dict</p>
<blockquote class="last">
<div><p>A dictionary mapping function arguments to values for values that should be fixed.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="allensdk.model.glif.glif_neuron_methods.GlifNeuronMethod.modify_parameter">
<code class="descname">modify_parameter</code><span class="sig-paren">(</span><em>param</em>, <em>operator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#GlifNeuronMethod.modify_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.GlifNeuronMethod.modify_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify a function parameter needs to be modified after initialization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>param</strong> : string</p>
<blockquote>
<div><p>the name of the parameter to modify</p>
</div></blockquote>
<p><strong>operator</strong> : callable</p>
<blockquote>
<div><p>a function or lambda that returns the desired modified value</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">type</p>
<blockquote class="last">
<div><p>the new value of the variable that was just modified.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="allensdk.model.glif.glif_neuron_methods.GlifNeuronMethod.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#GlifNeuronMethod.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.GlifNeuronMethod.to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="data">
<dt id="allensdk.model.glif.glif_neuron_methods.METHOD_LIBRARY">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">METHOD_LIBRARY</code><em class="property"> = {'voltage_dynamics_method': {'linear_forward_euler': &lt;function dynamics_voltage_linear_forward_euler at 0x7f60fa987320&gt;}, 'threshold_dynamics_method': {'three_components_exact': &lt;function dynamics_threshold_three_components_exact at 0x7f60fa9875f0&gt;, 'inf': &lt;function dynamics_threshold_inf at 0x7f60fa9876e0&gt;, 'spike_component': &lt;function dynamics_threshold_spike_component at 0x7f60fa987668&gt;}, 'AScurrent_dynamics_method': {'none': &lt;function dynamics_AScurrent_none at 0x7f60fa9872a8&gt;, 'exp': &lt;function dynamics_AScurrent_exp at 0x7f60fa987230&gt;}, 'AScurrent_reset_method': {'sum': &lt;function reset_AScurrent_sum at 0x7f60fa987758&gt;, 'none': &lt;function reset_AScurrent_none at 0x7f60fa9877d0&gt;}, 'voltage_reset_method': {'v_before': &lt;function reset_voltage_v_before at 0x7f60fa987848&gt;, 'zero': &lt;function reset_voltage_zero at 0x7f60fa9878c0&gt;}, 'threshold_reset_method': {'inf': &lt;function reset_threshold_inf at 0x7f60fa987938&gt;, 'three_components': &lt;function reset_threshold_three_components at 0x7f60fa9879b0&gt;}}</em><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.METHOD_LIBRARY" title="Permalink to this definition">¶</a></dt>
<dd><p>The METHOD_LIBRARY constant groups dynamics and reset methods by group name (e.g. &#8216;voltage_dynamics_method&#8217;).</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.dynamics_AScurrent_exp">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">dynamics_AScurrent_exp</code><span class="sig-paren">(</span><em>neuron</em>, <em>AScurrents_t0</em>, <em>time_step</em>, <em>spike_time_steps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#dynamics_AScurrent_exp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.dynamics_AScurrent_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponential afterspike current dynamics method takes a current at t0 and returns the current at
a time step later.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.dynamics_AScurrent_none">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">dynamics_AScurrent_none</code><span class="sig-paren">(</span><em>neuron</em>, <em>AScurrents_t0</em>, <em>time_step</em>, <em>spike_time_steps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#dynamics_AScurrent_none"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.dynamics_AScurrent_none" title="Permalink to this definition">¶</a></dt>
<dd><p>This method always returns zeros for the afterspike currents, regardless of input.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.dynamics_threshold_inf">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">dynamics_threshold_inf</code><span class="sig-paren">(</span><em>neuron</em>, <em>threshold_t0</em>, <em>voltage_t0</em>, <em>AScurrents_t0</em>, <em>inj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#dynamics_threshold_inf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.dynamics_threshold_inf" title="Permalink to this definition">¶</a></dt>
<dd><p>Set threshold to the neuron&#8217;s instantaneous threshold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>neuron</strong> : class</p>
<p><strong>threshold_t0</strong> : not used here</p>
<p><strong>voltage_t0</strong> : not used here</p>
<p><strong>AScurrents_t0</strong> : not used here</p>
<p><strong>inj</strong> : not used here</p>
<p><strong>AScurrents_t0</strong> : not used here</p>
<p class="last"><strong>inj</strong> : not used here</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.dynamics_threshold_spike_component">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">dynamics_threshold_spike_component</code><span class="sig-paren">(</span><em>neuron</em>, <em>threshold_t0</em>, <em>voltage_t0</em>, <em>AScurrents_t0</em>, <em>inj</em>, <em>a_spike</em>, <em>b_spike</em>, <em>a_voltage</em>, <em>b_voltage</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#dynamics_threshold_spike_component"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.dynamics_threshold_spike_component" title="Permalink to this definition">¶</a></dt>
<dd><p>Analytical solution for spike component of threshold. The threshold will adapt via 
a component initiated by a spike which decays as an exponential.  The component is in 
reference to threshold infinity and are recorded in the neuron&#8217;s threshold components.  The voltage 
component of the threshold is set to zero in the threshold components  because it is zero here  
The third component refers to th_inf which is added separately as opposed to being 
included in the voltage component of the threshold as is done in equation 2.1 of
Mihalas and Nieber 2009.  Threshold infinity is removed for simple optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>neuron</strong> : class</p>
<p><strong>threshold_t0</strong> : float</p>
<blockquote>
<div><p>threshold input to function</p>
</div></blockquote>
<p><strong>voltage_t0</strong> : float</p>
<blockquote>
<div><p>voltage input to function</p>
</div></blockquote>
<p><strong>AScurrents_t0</strong> : vector</p>
<blockquote>
<div><p>values of after spike currents</p>
</div></blockquote>
<p><strong>inj</strong> : float</p>
<blockquote class="last">
<div><p>current injected into the neuron</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.dynamics_threshold_three_components_exact">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">dynamics_threshold_three_components_exact</code><span class="sig-paren">(</span><em>neuron</em>, <em>threshold_t0</em>, <em>voltage_t0</em>, <em>AScurrents_t0</em>, <em>inj</em>, <em>a_spike</em>, <em>b_spike</em>, <em>a_voltage</em>, <em>b_voltage</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#dynamics_threshold_three_components_exact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.dynamics_threshold_three_components_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>Analytical solution for threshold dynamics. The threshold will adapt via two mechanisms: 
1. a voltage dependent adaptation.  
2. a component initiated by a spike which decays as an exponential.  
These two component are in reference to threshold infinity and are recorded 
in the neuron&#8217;s threshold components.
The third component refers to th_inf which is added separately as opposed to being 
included in the voltage component of the threshold as is done in equation 2.1 of
Mihalas and Nieber 2009.  Threshold infinity is removed for simple optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>neuron</strong> : class</p>
<p><strong>threshold_t0</strong> : float</p>
<blockquote>
<div><p>threshold input to function</p>
</div></blockquote>
<p><strong>voltage_t0</strong> : float</p>
<blockquote>
<div><p>voltage input to function</p>
</div></blockquote>
<p><strong>AScurrents_t0</strong> : vector</p>
<blockquote>
<div><p>values of after spike currents</p>
</div></blockquote>
<p><strong>inj</strong> : float</p>
<blockquote class="last">
<div><p>current injected into the neuron</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.dynamics_voltage_linear_exact">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">dynamics_voltage_linear_exact</code><span class="sig-paren">(</span><em>neuron</em>, <em>voltage_t0</em>, <em>AScurrents_t0</em>, <em>inj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#dynamics_voltage_linear_exact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.dynamics_voltage_linear_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>(TODO) Linear voltage dynamics.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.dynamics_voltage_linear_forward_euler">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">dynamics_voltage_linear_forward_euler</code><span class="sig-paren">(</span><em>neuron</em>, <em>voltage_t0</em>, <em>AScurrents_t0</em>, <em>inj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#dynamics_voltage_linear_forward_euler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.dynamics_voltage_linear_forward_euler" title="Permalink to this definition">¶</a></dt>
<dd><p>(TODO) Linear voltage dynamics.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.max_of_line_and_const">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">max_of_line_and_const</code><span class="sig-paren">(</span><em>x</em>, <em>b</em>, <em>c</em>, <em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#max_of_line_and_const"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.max_of_line_and_const" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the maximum of a value and a position on a line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x: float</strong></p>
<blockquote>
<div><p>x position on line 1</p>
</div></blockquote>
<p><strong>c: float</strong></p>
<blockquote>
<div><p>slope of line 1</p>
</div></blockquote>
<p><strong>d: float</strong></p>
<blockquote>
<div><p>y-intercept of line 1</p>
</div></blockquote>
<p><strong>b: float</strong></p>
<blockquote>
<div><p>y-intercept of line 2</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>the max of a line value and a constant</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.min_of_line_and_zero">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">min_of_line_and_zero</code><span class="sig-paren">(</span><em>x</em>, <em>c</em>, <em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#min_of_line_and_zero"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.min_of_line_and_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the minimum of a value and a position on a line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>x: float</strong></p>
<blockquote>
<div><p>x position on line 1</p>
</div></blockquote>
<p><strong>c: float</strong></p>
<blockquote>
<div><p>slope of line 1</p>
</div></blockquote>
<p><strong>d: float</strong></p>
<blockquote>
<div><p>y-intercept of line 1</p>
</div></blockquote>
<p><strong>b: float</strong></p>
<blockquote>
<div><p>y-intercept of line 2</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>the max of a line value and a constant</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.reset_AScurrent_none">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">reset_AScurrent_none</code><span class="sig-paren">(</span><em>neuron</em>, <em>AScurrents_t0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#reset_AScurrent_none"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.reset_AScurrent_none" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset afterspike currents to zero.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.reset_AScurrent_sum">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">reset_AScurrent_sum</code><span class="sig-paren">(</span><em>neuron</em>, <em>AScurrents_t0</em>, <em>r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#reset_AScurrent_sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.reset_AScurrent_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset afterspike currents by adding summed exponentials. Left over currents from last spikes as 
well as newly initiated currents from current spike.  Currents amplitudes in neuron.asc_amp_array need
to be the amplitudes advanced though the spike cutting.  I.e. In the preprocessor if the after spike currents 
are calculated via the GLM from spike initiation the amplitude at the time after the spike cutting needs to 
be calculated and neuron.asc_amp_array needs to be set to this value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>r</strong> : np.ndarray</p>
<blockquote class="last">
<div><p>a coefficient vector applied to the afterspike currents</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.reset_threshold_inf">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">reset_threshold_inf</code><span class="sig-paren">(</span><em>neuron</em>, <em>threshold_t0</em>, <em>voltage_v1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#reset_threshold_inf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.reset_threshold_inf" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the threshold to instantaneous threshold.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.reset_threshold_three_components">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">reset_threshold_three_components</code><span class="sig-paren">(</span><em>neuron</em>, <em>threshold_t0</em>, <em>voltage_v1</em>, <em>a_spike</em>, <em>b_spike</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#reset_threshold_three_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.reset_threshold_three_components" title="Permalink to this definition">¶</a></dt>
<dd><p>This method calculates the two components of the threshold: a spike (fast)
component and a voltage (slow) component.  The threshold_components vectors are then 
updated so that the traces match the voltage, current, and total threshold traces.  The
spike component of the threshold decays via an exponential fit specified by the amplitude
a_spike and the time constant b_spike fit via the multiblip data.  The voltage component 
does not change during the duration of the spike.  The 
spike component are threshold component are summed along with threshold infinity to 
return the total threshold.  Note that in the current implementation a_spike is added to 
the last value of the threshold_components which means that a_spike is the amplitude after 
spike cutting (if there is any).</p>
<dl class="docutils">
<dt>Inputs:  </dt>
<dd><dl class="first last docutils">
<dt>neuron: class</dt>
<dd>contains attributes of the neuron</dd>
<dt>threshold_t0, voltage_t0: float</dt>
<dd>are not used but are here for consistency with other methods</dd>
<dt>a_spike: float </dt>
<dd>amplitude of the exponential decay of spike component of threshold after spike
cutting has been implemented.</dd>
<dt>b_spike: float</dt>
<dd>amplitude of the exponential decay of spike component of threshold</dd>
</dl>
</dd>
<dt>Outputs:</dt>
<dd><dl class="first last docutils">
<dt>Returns: float</dt>
<dd>the total threshold which is the sum of the spike component of threshold, the voltage 
component of threshold and threshold infinity (with it&#8217;s corresponding coefficient)</dd>
<dt>neuron.threshold_components: dictionary containing</dt>
<dd><dl class="first last docutils">
<dt>a spike: list</dt>
<dd>vector of spiking component of threshold that corresponds to the voltage, current, 
and total threshold traces</dd>
<dt>b_spike: list</dt>
<dd><dl class="first last docutils">
<dt>vector of voltage component of threshold that corresponds to the voltage, current, </dt>
<dd>and total threshold traces.</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>Note that this function can be changed to use a_spike at the time of the spike and then have the 
the spike component plus the residual decay thought the spike.  There are benefits and drawbacks to
this.  This potential change would be beneficial as it perhaps makes more biological sense for the 
threshold to go up at the time of spike if the traces are ever used.  Also this would mean that a_spike
would not have to be adjusted thought the spike cutting after the multiblip fit.  However the current 
implementation makes sense in that it is similar to how afterspike currents are implemented.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.reset_voltage_v_before">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">reset_voltage_v_before</code><span class="sig-paren">(</span><em>neuron</em>, <em>voltage_t0</em>, <em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#reset_voltage_v_before"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.reset_voltage_v_before" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset voltage to the previous value with a scale and offset applied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>a</strong> : float</p>
<blockquote>
<div><p>voltage scale constant</p>
</div></blockquote>
<p><strong>b</strong> : float</p>
<blockquote class="last">
<div><p>voltage offset constant</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.reset_voltage_zero">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">reset_voltage_zero</code><span class="sig-paren">(</span><em>neuron</em>, <em>voltage_t0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#reset_voltage_zero"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.reset_voltage_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset voltage to zero.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.spike_component_of_threshold_exact">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">spike_component_of_threshold_exact</code><span class="sig-paren">(</span><em>th0</em>, <em>b_spike</em>, <em>t</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#spike_component_of_threshold_exact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.spike_component_of_threshold_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>Spike component of threshold modeled as an exponential decay. Implemented 
here as exact analytical solution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>th0</strong> : float</p>
<blockquote>
<div><p>threshold input to function</p>
</div></blockquote>
<p><strong>b_spike</strong> : float</p>
<blockquote>
<div><p>decay constant of exponential</p>
</div></blockquote>
<p><strong>t</strong> : float or array</p>
<blockquote class="last">
<div><p>time step if used in an Euler setup
time if used analytically</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.spike_component_of_threshold_forward_euler">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">spike_component_of_threshold_forward_euler</code><span class="sig-paren">(</span><em>th_t0</em>, <em>b_spike</em>, <em>dt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#spike_component_of_threshold_forward_euler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.spike_component_of_threshold_forward_euler" title="Permalink to this definition">¶</a></dt>
<dd><p>Spike component of threshold modeled as an exponential decay. Implemented 
here for forward Euler</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>th_t0</strong> : float</p>
<blockquote>
<div><p>threshold input to function</p>
</div></blockquote>
<p><strong>b_spike</strong> : float</p>
<blockquote>
<div><p>decay constant of exponential</p>
</div></blockquote>
<p><strong>dt</strong> : float</p>
<blockquote class="last">
<div><p>time step</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.voltage_component_of_threshold_exact">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">voltage_component_of_threshold_exact</code><span class="sig-paren">(</span><em>th0</em>, <em>v0</em>, <em>I</em>, <em>t</em>, <em>a_voltage</em>, <em>b_voltage</em>, <em>C</em>, <em>g</em>, <em>El</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#voltage_component_of_threshold_exact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.voltage_component_of_threshold_exact" title="Permalink to this definition">¶</a></dt>
<dd><p>Note this function is the exact formulation; however, dt is used because t0 is the initial time and dt
is the time the function is exactly evaluated at. Note: that here, this equation is in reference to th_inf.
Therefore th0 is the total threshold-thr_inf (threshold_inf replaced with 0 in the equation to be verbose).  
This is done so that th_inf can be optimized without affecting this function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>th0</strong> : float</p>
<blockquote>
<div><p>threshold input to function</p>
</div></blockquote>
<p><strong>v0</strong> : float</p>
<blockquote>
<div><p>voltage input to function</p>
</div></blockquote>
<p><strong>I</strong> : float</p>
<blockquote>
<div><p>total current entering neuron (note if there are after spike currents these must be included in this value)</p>
</div></blockquote>
<p><strong>t</strong> : float or array</p>
<blockquote>
<div><p>time step if used in an Euler setup
time if used analytically</p>
</div></blockquote>
<p><strong>a_voltage</strong> : float</p>
<blockquote>
<div><p>constant a</p>
</div></blockquote>
<p><strong>b_voltage</strong> : float</p>
<blockquote>
<div><p>constant b</p>
</div></blockquote>
<p><strong>C</strong> : float</p>
<blockquote>
<div><p>capacitance</p>
</div></blockquote>
<p><strong>g</strong> : float</p>
<blockquote>
<div><p>conductance (1/resistance)</p>
</div></blockquote>
<p><strong>El</strong> : float</p>
<blockquote class="last">
<div><p>reversal potential</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.glif_neuron_methods.voltage_component_of_threshold_forward_euler">
<code class="descclassname">allensdk.model.glif.glif_neuron_methods.</code><code class="descname">voltage_component_of_threshold_forward_euler</code><span class="sig-paren">(</span><em>th_t0</em>, <em>v_t0</em>, <em>dt</em>, <em>a_voltage</em>, <em>b_voltage</em>, <em>El</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/glif_neuron_methods.html#voltage_component_of_threshold_forward_euler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.glif_neuron_methods.voltage_component_of_threshold_forward_euler" title="Permalink to this definition">¶</a></dt>
<dd><p>Equation 2.1 of Mihalas and Nieber, 2009 implemented for use in forward Euler. Note 
here all variables are in reference to threshold infinity.  Therefore thr_inf is zero 
here (replaced threshold_inf with 0 in the equation to be verbose). This is done so that 
th_inf can be optimized without affecting this function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>th_t0</strong> : float</p>
<blockquote>
<div><p>threshold input to function</p>
</div></blockquote>
<p><strong>v_t0</strong> : float</p>
<blockquote>
<div><p>voltage input to function</p>
</div></blockquote>
<p><strong>dt</strong> : float</p>
<blockquote>
<div><p>time step</p>
</div></blockquote>
<p><strong>a_voltage</strong> : float</p>
<blockquote>
<div><p>constant a</p>
</div></blockquote>
<p><strong>b_voltage</strong> : float</p>
<blockquote>
<div><p>constant b</p>
</div></blockquote>
<p><strong>El</strong> : float</p>
<blockquote class="last">
<div><p>reversal potential</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-allensdk.model.glif.simulate_neuron">
<span id="allensdk-model-glif-simulate-neuron-module"></span><h2>allensdk.model.glif.simulate_neuron module<a class="headerlink" href="#module-allensdk.model.glif.simulate_neuron" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="allensdk.model.glif.simulate_neuron.load_sweep">
<code class="descclassname">allensdk.model.glif.simulate_neuron.</code><code class="descname">load_sweep</code><span class="sig-paren">(</span><em>file_name</em>, <em>sweep_number</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/simulate_neuron.html#load_sweep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.simulate_neuron.load_sweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the stimulus for a sweep from file.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.simulate_neuron.main">
<code class="descclassname">allensdk.model.glif.simulate_neuron.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/simulate_neuron.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.simulate_neuron.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.simulate_neuron.parse_arguments">
<code class="descclassname">allensdk.model.glif.simulate_neuron.</code><code class="descname">parse_arguments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/simulate_neuron.html#parse_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.simulate_neuron.parse_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Use argparse to get required arguments from the command line</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.simulate_neuron.simulate_neuron">
<code class="descclassname">allensdk.model.glif.simulate_neuron.</code><code class="descname">simulate_neuron</code><span class="sig-paren">(</span><em>neuron</em>, <em>sweep_numbers</em>, <em>input_file_name</em>, <em>output_file_name</em>, <em>spike_cut_value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/simulate_neuron.html#simulate_neuron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.simulate_neuron.simulate_neuron" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.simulate_neuron.simulate_sweep">
<code class="descclassname">allensdk.model.glif.simulate_neuron.</code><code class="descname">simulate_sweep</code><span class="sig-paren">(</span><em>neuron</em>, <em>stimulus</em>, <em>spike_cut_value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/simulate_neuron.html#simulate_sweep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.simulate_neuron.simulate_sweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate a neuron given a stimulus and initial conditions.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.simulate_neuron.simulate_sweep_from_file">
<code class="descclassname">allensdk.model.glif.simulate_neuron.</code><code class="descname">simulate_sweep_from_file</code><span class="sig-paren">(</span><em>neuron</em>, <em>sweep_number</em>, <em>input_file_name</em>, <em>output_file_name</em>, <em>spike_cut_value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/simulate_neuron.html#simulate_sweep_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.simulate_neuron.simulate_sweep_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a sweep stimulus, simulate the response, and write it out.</p>
</dd></dl>

<dl class="function">
<dt id="allensdk.model.glif.simulate_neuron.write_sweep_response">
<code class="descclassname">allensdk.model.glif.simulate_neuron.</code><code class="descname">write_sweep_response</code><span class="sig-paren">(</span><em>file_name</em>, <em>sweep_number</em>, <em>response</em>, <em>spike_times</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/allensdk/model/glif/simulate_neuron.html#write_sweep_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#allensdk.model.glif.simulate_neuron.write_sweep_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite the response in a file.</p>
</dd></dl>

</div>
<div class="section" id="module-allensdk.model.glif">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-allensdk.model.glif" title="Permalink to this headline">¶</a></h2>
<p>A Generalized Linear Integrate and Fire (GLIF) neuron modeling package.
Use this code to run the GLIF models available in the Allen Cell Types Atlas.
See <a class="reference internal" href="glif_models.html"><span class="doc">Generalized LIF Models</span></a> for more details.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install Guide</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_resources.html">Data Resources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="brain_observatory.html">Brain Observatory</a></li>
<li class="toctree-l2"><a class="reference internal" href="cell_types.html">Cell Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="connectivity.html">Mouse Connectivity</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference_space.html">Reference Space</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_api_client.html">API Access</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="glif_models.html">Generalized LIF</a></li>
<li class="toctree-l2"><a class="reference internal" href="biophysical_models.html">Biophysical</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="allensdk.html">Source Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="allensdk.api.html">allensdk.api package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.brain_observatory.html">allensdk.brain_observatory package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.config.html">allensdk.config package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.core.html">allensdk.core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.ephys.html">allensdk.ephys package</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="allensdk.model.html">allensdk.model package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.morphology.html">allensdk.morphology package</a></li>
<li class="toctree-l2"><a class="reference internal" href="allensdk.test_utilities.html">allensdk.test_utilities package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/AllenInstitute/AllenSDK">Github Profile</a></li>
</ul>

<h3> Questions </h3>
<p class="questions">
  Send any questions using the <a href="http://alleninstitute.org/contact_us/index.html">Send Us a Message</a> link below, 
  or submit your question to <a href="http://stackoverflow.com/">StackOverflow</a> using with the 'allen-sdk' tag.
</p>

<p class="questions">
  If you encounter any problems using the AllenSDK, please create an issue on <a href="http://github.com/alleninstitute/allensdk/issues/">Github's issue tracker</a>.
</p>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>


    <div class="footer" role="contentinfo">
    </div>
<script type="text/javascript" src="http://www.brain-map.org/external_assets/javascripts/portalFooter.js"></script>


  </body>
</html>